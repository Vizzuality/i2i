{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/d3-format/build/d3-format.js","node_modules/d3-selection/build/d3-selection.js","node_modules/d3-time-format/build/d3-time-format.js","node_modules/d3-time/build/d3-time.js","node_modules/vega-lite/build/src/type.js","src/formatFieldValue.ts","src/index.ts","src/options.ts","src/parseOption.ts","src/supplementField.ts","src/tooltipDisplay.ts"],"names":["f","exports","module","define","amd","window","global","self","this","vegaTooltip","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","factory","d3","formatSpecifier","specifier","FormatSpecifier","match","re","exec","fill","align","sign","symbol","zero","width","comma","precision","slice","type","formatTypes","defaultLocale","definition","locale","formatLocale","format","formatPrefix","prefixExponent","formatDecimal","x","p","toExponential","indexOf","coefficient","exponent","Math","abs","NaN","formatGroup","grouping","thousands","value","j","g","max","push","substring","reverse","join","formatNumerals","numerals","replace","formatRounded","d","Array","","out","i1","toPrecision","i0","%","toFixed","b","round","toString","c","min","floor","X","toUpperCase","prototype","identity","prefixes","newFormat","valuePrefix","prefix","valueSuffix","suffix","formatType","valueNegative","maybeSuffix","charCodeAt","decimal","group","Infinity","padding","currency","test","toLowerCase","percent","k","pow","precisionFixed","step","precisionPrefix","precisionRound","formatDefaultLocale","Object","defineProperty","creatorInherit","name","document","ownerDocument","uri","namespaceURI","xhtml","documentElement","createElement","createElementNS","creatorFixed","fullname","space","local","Local","_","nextId","filterContextListener","listener","index","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","parseTypenames","typenames","trim","split","map","onRemove","typename","on","__on","m","removeEventListener","capture","onAdd","wrap","filterEvents","hasOwnProperty","addEventListener","customEvent","that","args","sourceEvent","apply","none","empty","EnterNode","parent","datum","_next","_parent","bindIndex","enter","update","exit","data","node","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","keyValues","keyPrefix","ascending","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","arguments","attrFunctionNS","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","defaultView","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","selection","root","namespaces","svg","xlink","xml","xmlns","namespace","creator","constructor","get","id","set","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","matcher$1","mouseenter","mouseleave","selection_on","each","source","current","point","ownerSVGElement","createSVGPoint","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","mouse","changedTouches","querySelector","selection_select","select","subgroups","subnode","subgroup","selectorAll","querySelectorAll","selection_selectAll","selection_filter","sparse","selection_enter","_enter","child","next","constant","selection_data","size","bind","enterGroup","updateGroup","previous","_exit","selection_exit","selection_merge","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compare","compareNode","sortgroups","sortgroup","sort","order","selection_call","callback","selection_nodes","nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","getAttributeNS","selection_style","selection_property","splice","contains","selection_classed","selection_text","selection_html","selection_raise","selection_lower","selection_append","create","selection_insert","before","selection_remove","selection_datum","property","selection_dispatch","selectAll","filter","attr","classed","text","html","append","insert","dispatch","touch","touches","identifier","points","d3Time","localDate","date","Date","H","M","S","L","setFullYear","utcDate","UTC","setUTCFullYear","newYear","formats","pad","pads","charAt","newParse","newDate","parseSpecifier","w","day","getUTCDay","getDay","W","U","Z","parse","parses","parsePeriod","periodRe","periodLookup","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","getMonth","formatMonth","locale_months","formatPeriod","locale_periods","getHours","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCPeriod","getUTCHours","dateTime","time","periods","days","shortDays","months","shortMonths","formatRe","formatLookup","A","B","formatDayOfMonth","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","formatYear","Y","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","utcFormat","utcParse","requote","requoteRe","RegExp","numberRe","percentRe","getDate","timeDay","count","timeYear","getMilliseconds","getMinutes","getSeconds","timeSunday","timeMonday","getFullYear","z","getTimezoneOffset","getUTCDate","utcDay","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcSunday","utcMonday","getUTCFullYear","locale$1","timeFormat","timeParse","formatIsoNative","toISOString","parseIsoNative","isNaN","-","0","formatIso","parseIso","timeFormatDefaultLocale","timeFormatLocale","isoFormat","isoParse","newInterval","floori","offseti","field","interval","ceil","d0","d1","offset","range","start","stop","setTime","end","t0","t1","every","isFinite","weekday","setDate","setHours","durationMinute","durationWeek","utcWeekday","setUTCDate","setUTCHours","millisecond","milliseconds","second","seconds","minute","minutes","hour","hours","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","month","setMonth","year","years","utcMinute","setUTCSeconds","utcMinutes","utcHour","setUTCMinutes","utcHours","utcDays","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcMonth","setUTCMonth","utcMonths","utcYears","timeInterval","timeMillisecond","timeMilliseconds","utcMillisecond","utcMilliseconds","timeSecond","timeSeconds","utcSecond","utcSeconds","timeMinute","timeMinutes","timeHour","timeHours","timeDays","timeWeek","timeWeeks","timeSundays","timeMondays","timeTuesday","timeTuesdays","timeWednesday","timeWednesdays","timeThursday","timeThursdays","timeFriday","timeFridays","timeSaturday","timeSaturdays","timeMonth","timeMonths","timeYears","utcWeek","utcWeeks","getFullName","QUANTITATIVE","TEMPORAL","ORDINAL","NOMINAL","Type","customFormat","undefined","d3_time_format_1","autoTimeFormat","d3_format_1","autoNumberFormat","autoFormat","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","d3_time_1","vega","vgView","options","showAllFields","copyOptions","destroy","cancelPromise","vegaLite","vlSpec","supplementField_1","supplementOptions","item","shouldShowTooltip","tooltipPromise","setTimeout","init","delay","options_1","DELAY","tooltipActive","clear","clearTimeout","tooltipPlaceholder","tooltipDisplay_1","getTooltipPlaceholder","tooltipData","parseOption_1","getTooltipData","bindData","updatePosition","updateColorTheme","d3_selection_1","onAppear","onMove","clearData","clearColorTheme","clearPosition","onDisappear","_facetID","newOptions","mark","marktype","itemData","removeFields","removeDuplicateTimeFields","fields","combineBinFields","dropFieldsForLineArea","prepareAllFieldsData","prepareCustomFieldsData","forEach","fieldOption","title","getValue","formattedValue","formatFieldValue_1","accessors","firstAccessor","shift","console","warn","fieldOptions","_i","_a","optionField","dataMap","removeKeys","optFields","optField","removeOriginalTemporalField","bin","binFieldRange","binFieldStart","concat","binFieldMid","binFieldEnd","startValue","endValue","binRemoveKeys","quanKeys","supplementedFields","vl","spec","fieldDefs","fieldDef","supplementedFieldOption","supplementFieldOption","getFieldOption","getFieldDef","aggregate","fieldOptions_1","fieldOptions_2","_b","fieldOptions_3","fieldDefs_1","config","__assign","type_1","timeUnit","originalTemporalField","fieldDefs_2","items","countTitle","defaultConfig","formatTypeMap","formatExpression","numberFormat","error","quantitative","temporal","ordinal","nominal","tooltipRows","row","offsetX","offsetY","tooltipHeight","height","innerHeight","tooltipWidth","innerWidth","colorTheme"],"mappings":"CAAA,SAAAA,GAAA,GAAA,iBAAAC,SAAA,oBAAAC,OAAAA,OAAAD,QAAAD,SAAA,GAAA,mBAAAG,QAAAA,OAAAC,IAAAD,UAAAH,OAAA,EAAA,oBAAAK,OAAAA,OAAA,oBAAAC,OAAAA,OAAA,oBAAAC,KAAAA,KAAAC,MAAAC,YAAAT,MAAA,WAAA,OAAA,SAAAU,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAf,EAAA,IAAAoB,MAAA,uBAAAL,EAAA,KAAA,MAAAf,EAAAqB,KAAA,mBAAArB,EAAA,IAAAsB,EAAAV,EAAAG,IAAAd,YAAAU,EAAAI,GAAA,GAAAQ,KAAAD,EAAArB,QAAA,SAAAS,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAY,EAAAA,EAAArB,QAAAS,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAd,QAAA,IAAA,IAAAkB,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,IAAAW,GAAA,SAAAP,EAAAhB,EAAAD,ICCA,SAAAK,EAAAoB,GACAA,EAAA,iBAAAzB,QAAA,IAAAC,EAAAD,EAEAK,EAAAqB,GAAArB,EAAAqB,SACAnB,KAAA,SAAAP,GAAA,aA4GA,SAAA2B,EAAAC,GACA,OAAA,IAAAC,EAAAD,GAKA,SAAAC,EAAAD,GACA,KAAAE,EAAAC,EAAAC,KAAAJ,IAAA,MAAA,IAAAT,MAAA,mBAAAS,GAEA,IAAAE,EACAG,EAAAH,EAAA,IAAA,IACAI,EAAAJ,EAAA,IAAA,IACAK,EAAAL,EAAA,IAAA,IACAM,EAAAN,EAAA,IAAA,GACAO,IAAAP,EAAA,GACAQ,EAAAR,EAAA,KAAAA,EAAA,GACAS,IAAAT,EAAA,GACAU,EAAAV,EAAA,KAAAA,EAAA,GAAAW,MAAA,GACAC,EAAAZ,EAAA,IAAA,GAGA,MAAAY,GAAAH,GAAA,EAAAG,EAAA,KAGAC,EAAAD,KAAAA,EAAA,KAGAL,GAAA,MAAAJ,GAAA,MAAAC,KAAAG,GAAA,EAAAJ,EAAA,IAAAC,EAAA,KAEA3B,KAAA0B,KAAAA,EACA1B,KAAA2B,MAAAA,EACA3B,KAAA4B,KAAAA,EACA5B,KAAA6B,OAAAA,EACA7B,KAAA8B,KAAAA,EACA9B,KAAA+B,MAAAA,EACA/B,KAAAgC,MAAAA,EACAhC,KAAAiC,UAAAA,EACAjC,KAAAmC,KAAAA,EAuJA,SAAAE,EAAAC,GAIA,OAHAC,EAAAC,EAAAF,GACA7C,EAAAgD,OAAAF,EAAAE,OACAhD,EAAAiD,aAAAH,EAAAG,aACAH,EAvSA,IA0DAI,EA1DAC,EAAA,SAAAC,EAAAC,GACA,IAAAnC,GAAAkC,EAAAC,EAAAD,EAAAE,cAAAD,EAAA,GAAAD,EAAAE,iBAAAC,QAAA,MAAA,EAAA,OAAA,KACA,IAAArC,EAAAsC,EAAAJ,EAAAX,MAAA,EAAAvB,GAIA,OACAsC,EAAAjC,OAAA,EAAAiC,EAAA,GAAAA,EAAAf,MAAA,GAAAe,GACAJ,EAAAX,MAAAvB,EAAA,KAIAuC,EAAA,SAAAL,GACA,OAAAA,EAAAD,EAAAO,KAAAC,IAAAP,IAAAA,EAAAA,EAAA,GAAAQ,KAGAC,EAAA,SAAAC,EAAAC,GACA,OAAA,SAAAC,EAAA1B,GAOA,IANA,IAAApB,EAAA8C,EAAAzC,OACAb,KACAuD,EAAA,EACAC,EAAAJ,EAAA,GACAvC,EAAA,EAEAL,EAAA,GAAAgD,EAAA,IACA3C,EAAA2C,EAAA,EAAA5B,IAAA4B,EAAAR,KAAAS,IAAA,EAAA7B,EAAAf,IACAb,EAAA0D,KAAAJ,EAAAK,UAAAnD,GAAAgD,EAAAhD,EAAAgD,OACA3C,GAAA2C,EAAA,GAAA5B,KACA4B,EAAAJ,EAAAG,GAAAA,EAAA,GAAAH,EAAAvC,QAGA,OAAAb,EAAA4D,UAAAC,KAAAR,KAIAS,EAAA,SAAAC,GACA,OAAA,SAAAT,GACA,OAAAA,EAAAU,QAAA,SAAA,SAAAxD,GACA,OAAAuD,GAAAvD,OAmCAyD,EAAA,SAAAvB,EAAAC,GACA,IAAAuB,EAAAzB,EAAAC,EAAAC,GACA,IAAAuB,EAAA,OAAAxB,EAAA,GACA,IAAAI,EAAAoB,EAAA,GACAnB,EAAAmB,EAAA,GACA,OAAAnB,EAAA,EAAA,KAAA,IAAAoB,OAAApB,GAAAc,KAAA,KAAAf,EACAA,EAAAjC,OAAAkC,EAAA,EAAAD,EAAAf,MAAA,EAAAgB,EAAA,GAAA,IAAAD,EAAAf,MAAAgB,EAAA,GACAD,EAAA,IAAAqB,MAAApB,EAAAD,EAAAjC,OAAA,GAAAgD,KAAA,MAGA5B,GACAmC,GAzCA,SAAA1B,EAAAC,GAGA0B,EAAA,IAAA,IAAAC,EAAArE,GAFAyC,EAAAA,EAAA6B,YAAA5B,IAEA9B,OAAAL,EAAA,EAAAgE,GAAA,EAAAhE,EAAAP,IAAAO,EACA,OAAAkC,EAAAlC,IACA,IAAA,IAAAgE,EAAAF,EAAA9D,EAAA,MACA,IAAA,IAAA,IAAAgE,IAAAA,EAAAhE,GAAA8D,EAAA9D,EAAA,MACA,IAAA,IAAA,MAAA6D,EACA,QAAAG,EAAA,IAAAA,EAAA,GAIA,OAAAA,EAAA,EAAA9B,EAAAX,MAAA,EAAAyC,GAAA9B,EAAAX,MAAAuC,EAAA,GAAA5B,GA8BA+B,IAAA,SAAA/B,EAAAC,GAAA,OAAA,IAAAD,GAAAgC,QAAA/B,IACAgC,EAAA,SAAAjC,GAAA,OAAAM,KAAA4B,MAAAlC,GAAAmC,SAAA,IACAC,EAAA,SAAApC,GAAA,OAAAA,EAAA,IACAwB,EAAA,SAAAxB,GAAA,OAAAM,KAAA4B,MAAAlC,GAAAmC,SAAA,KACA9E,EAAA,SAAA2C,EAAAC,GAAA,OAAAD,EAAAE,cAAAD,IACAtD,EAAA,SAAAqD,EAAAC,GAAA,OAAAD,EAAAgC,QAAA/B,IACAa,EAAA,SAAAd,EAAAC,GAAA,OAAAD,EAAA6B,YAAA5B,IACAvC,EAAA,SAAAsC,GAAA,OAAAM,KAAA4B,MAAAlC,GAAAmC,SAAA,IACAlC,EAAA,SAAAD,EAAAC,GAAA,OAAAsB,EAAA,IAAAvB,EAAAC,IACAzC,EAAA+D,EACA9D,EAnCA,SAAAuC,EAAAC,GACA,IAAAuB,EAAAzB,EAAAC,EAAAC,GACA,IAAAuB,EAAA,OAAAxB,EAAA,GACA,IAAAI,EAAAoB,EAAA,GACAnB,EAAAmB,EAAA,GACA1D,EAAAuC,GAAAP,EAAA,EAAAQ,KAAAS,KAAA,EAAAT,KAAA+B,IAAA,EAAA/B,KAAAgC,MAAAjC,EAAA,MAAA,EACA9C,EAAA6C,EAAAjC,OACA,OAAAL,IAAAP,EAAA6C,EACAtC,EAAAP,EAAA6C,EAAA,IAAAqB,MAAA3D,EAAAP,EAAA,GAAA4D,KAAA,KACArD,EAAA,EAAAsC,EAAAf,MAAA,EAAAvB,GAAA,IAAAsC,EAAAf,MAAAvB,GACA,KAAA,IAAA2D,MAAA,EAAA3D,GAAAqD,KAAA,KAAApB,EAAAC,EAAAM,KAAAS,IAAA,EAAAd,EAAAnC,EAAA,IAAA,IA0BAyE,EAAA,SAAAvC,GAAA,OAAAM,KAAA4B,MAAAlC,GAAAmC,SAAA,IAAAK,eACAxC,EAAA,SAAAA,GAAA,OAAAM,KAAA4B,MAAAlC,GAAAmC,SAAA,MAIAxD,EAAA,wEAMAJ,EAAAkE,UAAAhE,EAAAgE,UAoCAhE,EAAAgE,UAAAN,SAAA,WACA,OAAAhF,KAAA0B,KACA1B,KAAA2B,MACA3B,KAAA4B,KACA5B,KAAA6B,QACA7B,KAAA8B,KAAA,IAAA,KACA,MAAA9B,KAAA+B,MAAA,GAAAoB,KAAAS,IAAA,EAAA,EAAA5D,KAAA+B,SACA/B,KAAAgC,MAAA,IAAA,KACA,MAAAhC,KAAAiC,UAAA,GAAA,IAAAkB,KAAAS,IAAA,EAAA,EAAA5D,KAAAiC,YACAjC,KAAAmC,MAGA,IA6HAI,EA7HAgD,EAAA,SAAA1C,GACA,OAAAA,GAGA2C,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,GAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,KAEAhD,EAAA,SAAAD,GAOA,SAAAkD,EAAApE,GAgCA,SAAAoB,EAAAgB,GACA,IAEA9C,EAAAP,EAAA6E,EAFAS,EAAAC,EACAC,EAAAC,EAGA,GAAA,MAAA1D,EACAyD,EAAAE,EAAArC,GAAAmC,EACAnC,EAAA,OACA,CAIA,IAAAsC,GAHAtC,GAAAA,GAGA,EAYA,GAXAA,EAAAqC,EAAA3C,KAAAC,IAAAK,GAAAxB,GAGA8D,GAAA,IAAAtC,IAAAsC,GAAA,GAGAL,GAAAK,EAAA,MAAAnE,EAAAA,EAAA,IAAA,MAAAA,GAAA,MAAAA,EAAA,GAAAA,GAAA8D,EACAE,EAAAA,GAAA,MAAAzD,EAAAqD,EAAA,EAAA7C,EAAA,GAAA,KAAAoD,GAAA,MAAAnE,EAAA,IAAA,IAIAoE,EAEA,IADArF,GAAA,EAAAP,EAAAqD,EAAAzC,SACAL,EAAAP,GACA,GAAA,IAAA6E,EAAAxB,EAAAwC,WAAAtF,KAAAsE,EAAA,GAAA,CACAW,GAAA,KAAAX,EAAAiB,EAAAzC,EAAAvB,MAAAvB,EAAA,GAAA8C,EAAAvB,MAAAvB,IAAAiF,EACAnC,EAAAA,EAAAvB,MAAA,EAAAvB,GACA,OAOAqB,IAAAF,IAAA2B,EAAA0C,EAAA1C,EAAA2C,EAAAA,IAGA,IAAApF,EAAA0E,EAAA1E,OAAAyC,EAAAzC,OAAA4E,EAAA5E,OACAqF,EAAArF,EAAAe,EAAA,IAAAuC,MAAAvC,EAAAf,EAAA,GAAAgD,KAAAtC,GAAA,GAMA,OAHAM,GAAAF,IAAA2B,EAAA0C,EAAAE,EAAA5C,EAAA4C,EAAArF,OAAAe,EAAA6D,EAAA5E,OAAAoF,EAAAA,GAAAC,EAAA,IAGA1E,GACA,IAAA,IAAA8B,EAAAiC,EAAAjC,EAAAmC,EAAAS,EAAA,MACA,IAAA,IAAA5C,EAAAiC,EAAAW,EAAA5C,EAAAmC,EAAA,MACA,IAAA,IAAAnC,EAAA4C,EAAAnE,MAAA,EAAAlB,EAAAqF,EAAArF,QAAA,GAAA0E,EAAAjC,EAAAmC,EAAAS,EAAAnE,MAAAlB,GAAA,MACA,QAAAyC,EAAA4C,EAAAX,EAAAjC,EAAAmC,EAGA,OAAA1B,EAAAT,GAnFA,IAAA/B,GAFAL,EAAAD,EAAAC,IAEAK,KACAC,EAAAN,EAAAM,MACAC,EAAAP,EAAAO,KACAC,EAAAR,EAAAQ,OACAC,EAAAT,EAAAS,KACAC,EAAAV,EAAAU,MACAC,EAAAX,EAAAW,MACAC,EAAAZ,EAAAY,UACAE,EAAAd,EAAAc,KAIAwD,EAAA,MAAA9D,EAAAyE,EAAA,GAAA,MAAAzE,GAAA,SAAA0E,KAAApE,GAAA,IAAAA,EAAAqE,cAAA,GACAX,EAAA,MAAAhE,EAAAyE,EAAA,GAAA,OAAAC,KAAApE,GAAAsE,EAAA,GAKAX,EAAA1D,EAAAD,GACA6D,GAAA7D,GAAA,aAAAoE,KAAApE,GAuEA,OAjEAF,EAAA,MAAAA,EAAAE,EAAA,EAAA,GACA,SAAAoE,KAAApE,GAAAgB,KAAAS,IAAA,EAAAT,KAAA+B,IAAA,GAAAjD,IACAkB,KAAAS,IAAA,EAAAT,KAAA+B,IAAA,GAAAjD,IA2DAQ,EAAAuC,SAAA,WACA,OAAA3D,EAAA,IAGAoB,EAGA,SAAAC,EAAArB,EAAAoC,GACA,IAAAjE,EAAAiG,GAAApE,EAAAD,EAAAC,GAAAA,EAAAc,KAAA,IAAAd,IACAnB,EAAA,EAAAiD,KAAAS,KAAA,EAAAT,KAAA+B,IAAA,EAAA/B,KAAAgC,MAAAjC,EAAAO,GAAA,KACAiD,EAAAvD,KAAAwD,IAAA,IAAAzG,GACAyF,EAAAH,EAAA,EAAAtF,EAAA,GACA,OAAA,SAAAuD,GACA,OAAAjE,EAAAkH,EAAAjD,GAAAkC,GA5GA,IAAAQ,EAAA5D,EAAAgB,UAAAhB,EAAAiB,UAAAF,EAAAf,EAAAgB,SAAAhB,EAAAiB,WAAA+B,EACAe,EAAA/D,EAAA+D,SACAJ,EAAA3D,EAAA2D,QACAhC,EAAA3B,EAAA2B,SAAAD,EAAA1B,EAAA2B,UAAAqB,EACAkB,EAAAlE,EAAAkE,SAAA,IA4GA,OACAhE,OAAAgD,EACA/C,aAAAA,IAQAL,GACA6D,QAAA,IACA1C,UAAA,IACAD,UAAA,GACA+C,UAAA,IAAA,MAUA,IAAAM,EAAA,SAAAC,GACA,OAAA1D,KAAAS,IAAA,GAAAV,EAAAC,KAAAC,IAAAyD,MAGAC,EAAA,SAAAD,EAAApD,GACA,OAAAN,KAAAS,IAAA,EAAA,EAAAT,KAAAS,KAAA,EAAAT,KAAA+B,IAAA,EAAA/B,KAAAgC,MAAAjC,EAAAO,GAAA,KAAAP,EAAAC,KAAAC,IAAAyD,MAGAE,EAAA,SAAAF,EAAAjD,GAEA,OADAiD,EAAA1D,KAAAC,IAAAyD,GAAAjD,EAAAT,KAAAC,IAAAQ,GAAAiD,EACA1D,KAAAS,IAAA,EAAAV,EAAAU,GAAAV,EAAA2D,IAAA,GAGApH,EAAAuH,oBAAA3E,EACA5C,EAAA+C,aAAAA,EACA/C,EAAA2B,gBAAAA,EACA3B,EAAAmH,eAAAA,EACAnH,EAAAqH,gBAAAA,EACArH,EAAAsH,eAAAA,EAEAE,OAAAC,eAAAzH,EAAA,cAAAgE,OAAA,+BCvUA,SAAA3D,EAAAoB,GACAA,EAAA,iBAAAzB,QAAA,IAAAC,EAAAD,EAEAK,EAAAqB,GAAArB,EAAAqB,SACAnB,KAAA,SAAAP,GAAA,aAkBA,SAAA0H,EAAAC,GACA,OAAA,WACA,IAAAC,EAAArH,KAAAsH,cACAC,EAAAvH,KAAAwH,aACA,OAAAD,IAAAE,GAAAJ,EAAAK,gBAAAF,eAAAC,EACAJ,EAAAM,cAAAP,GACAC,EAAAO,gBAAAL,EAAAH,IAIA,SAAAS,EAAAC,GACA,OAAA,WACA,OAAA9H,KAAAsH,cAAAM,gBAAAE,EAAAC,MAAAD,EAAAE,QAaA,SAAAA,IACA,OAAA,IAAAC,EAGA,SAAAA,IACAjI,KAAAkI,EAAA,OAAAC,IAAAnD,SAAA,IAuDA,SAAAoD,EAAAC,EAAAC,EAAAnC,GAEA,OADAkC,EAAAE,EAAAF,EAAAC,EAAAnC,GACA,SAAAqC,GACA,IAAAC,EAAAD,EAAAE,cACAD,IAAAA,IAAAzI,MAAA,EAAAyI,EAAAE,wBAAA3I,QACAqI,EAAAtH,KAAAf,KAAAwI,IAKA,SAAAD,EAAAF,EAAAC,EAAAnC,GACA,OAAA,SAAAyC,GACA,IAAAC,EAAApJ,EAAA+I,MACA/I,EAAA+I,MAAAI,EACA,IACAP,EAAAtH,KAAAf,KAAAA,KAAA8I,SAAAR,EAAAnC,GACA,QACA1G,EAAA+I,MAAAK,IAKA,SAAAE,EAAAC,GACA,OAAAA,EAAAC,OAAAC,MAAA,SAAAC,IAAA,SAAAhJ,GACA,IAAAiH,EAAA,GAAAzG,EAAAR,EAAA6C,QAAA,KAEA,OADArC,GAAA,IAAAyG,EAAAjH,EAAA+B,MAAAvB,EAAA,GAAAR,EAAAA,EAAA+B,MAAA,EAAAvB,KACAwB,KAAAhC,EAAAiH,KAAAA,KAIA,SAAAgC,EAAAC,GACA,OAAA,WACA,IAAAC,EAAAtJ,KAAAuJ,KACA,GAAAD,EAAA,CACA,IAAA,IAAA/I,EAAAmD,EAAA,EAAA/C,GAAA,EAAA6I,EAAAF,EAAAtI,OAAA0C,EAAA8F,IAAA9F,EACAnD,EAAA+I,EAAA5F,GAAA2F,EAAAlH,MAAA5B,EAAA4B,OAAAkH,EAAAlH,MAAA5B,EAAA6G,OAAAiC,EAAAjC,KAGAkC,IAAA3I,GAAAJ,EAFAP,KAAAyJ,oBAAAlJ,EAAA4B,KAAA5B,EAAA8H,SAAA9H,EAAAmJ,WAKA/I,EAAA2I,EAAAtI,OAAAL,SACAX,KAAAuJ,OAIA,SAAAI,EAAAN,EAAA5F,EAAAiG,GACA,IAAAE,EAAAC,GAAAC,eAAAT,EAAAlH,MAAAiG,EAAAG,EACA,OAAA,SAAAlE,EAAA1D,EAAAwF,GACA,IAAA5F,EAAA+I,EAAAtJ,KAAAuJ,KAAAlB,EAAAuB,EAAAnG,EAAA9C,EAAAwF,GACA,GAAAmD,EAAA,IAAA,IAAA5F,EAAA,EAAA8F,EAAAF,EAAAtI,OAAA0C,EAAA8F,IAAA9F,EACA,IAAAnD,EAAA+I,EAAA5F,IAAAvB,OAAAkH,EAAAlH,MAAA5B,EAAA6G,OAAAiC,EAAAjC,KAIA,OAHApH,KAAAyJ,oBAAAlJ,EAAA4B,KAAA5B,EAAA8H,SAAA9H,EAAAmJ,SACA1J,KAAA+J,iBAAAxJ,EAAA4B,KAAA5B,EAAA8H,SAAAA,EAAA9H,EAAAmJ,QAAAA,QACAnJ,EAAAkD,MAAAA,GAIAzD,KAAA+J,iBAAAV,EAAAlH,KAAAkG,EAAAqB,GACAnJ,GAAA4B,KAAAkH,EAAAlH,KAAAiF,KAAAiC,EAAAjC,KAAA3D,MAAAA,EAAA4E,SAAAA,EAAAqB,QAAAA,GACAJ,EACAA,EAAAzF,KAAAtD,GADAP,KAAAuJ,MAAAhJ,IA0BA,SAAAyJ,EAAApB,EAAAP,EAAA4B,EAAAC,GACA,IAAArB,EAAApJ,EAAA+I,MACAI,EAAAuB,YAAA1K,EAAA+I,MACA/I,EAAA+I,MAAAI,EACA,IACA,OAAAP,EAAA+B,MAAAH,EAAAC,GACA,QACAzK,EAAA+I,MAAAK,GA8BA,SAAAwB,KAuBA,SAAAC,IACA,SA8CA,SAAAC,EAAAC,EAAAC,GACAzK,KAAAsH,cAAAkD,EAAAlD,cACAtH,KAAAwH,aAAAgD,EAAAhD,aACAxH,KAAA0K,MAAA,KACA1K,KAAA2K,QAAAH,EACAxK,KAAA8I,SAAA2B,EAmBA,SAAAG,EAAAJ,EAAArE,EAAA0E,EAAAC,EAAAC,EAAAC,GASA,IARA,IACAC,EADAtK,EAAA,EAEAuK,EAAA/E,EAAAnF,OACAmK,EAAAH,EAAAhK,OAKAL,EAAAwK,IAAAxK,GACAsK,EAAA9E,EAAAxF,KACAsK,EAAAnC,SAAAkC,EAAArK,GACAmK,EAAAnK,GAAAsK,GAEAJ,EAAAlK,GAAA,IAAA4J,EAAAC,EAAAQ,EAAArK,IAKA,KAAAA,EAAAuK,IAAAvK,GACAsK,EAAA9E,EAAAxF,MACAoK,EAAApK,GAAAsK,GAKA,SAAAG,EAAAZ,EAAArE,EAAA0E,EAAAC,EAAAC,EAAAC,EAAAK,GACA,IAAA1K,EACAsK,EAKAK,EAJAC,KACAL,EAAA/E,EAAAnF,OACAmK,EAAAH,EAAAhK,OACAwK,EAAA,IAAAlH,MAAA4G,GAKA,IAAAvK,EAAA,EAAAA,EAAAuK,IAAAvK,GACAsK,EAAA9E,EAAAxF,MACA6K,EAAA7K,GAAA2K,EAAAG,GAAAJ,EAAAtK,KAAAkK,EAAAA,EAAAnC,SAAAnI,EAAAwF,GACAmF,KAAAC,EACAR,EAAApK,GAAAsK,EAEAM,EAAAD,GAAAL,GAQA,IAAAtK,EAAA,EAAAA,EAAAwK,IAAAxK,GAEAsK,EAAAM,EADAD,EAAAG,GAAAJ,EAAAtK,KAAAyJ,EAAAQ,EAAArK,GAAAA,EAAAqK,MAEAF,EAAAnK,GAAAsK,EACAA,EAAAnC,SAAAkC,EAAArK,GACA4K,EAAAD,GAAA,MAEAT,EAAAlK,GAAA,IAAA4J,EAAAC,EAAAQ,EAAArK,IAKA,IAAAA,EAAA,EAAAA,EAAAuK,IAAAvK,GACAsK,EAAA9E,EAAAxF,KAAA4K,EAAAC,EAAA7K,MAAAsK,IACAF,EAAApK,GAAAsK,GAsGA,SAAAS,EAAAjL,EAAAqE,GACA,OAAArE,EAAAqE,GAAA,EAAArE,EAAAqE,EAAA,EAAArE,GAAAqE,EAAA,EAAAzB,IAiDA,SAAAsI,EAAAvE,GACA,OAAA,WACApH,KAAA4L,gBAAAxE,IAIA,SAAAyE,EAAA/D,GACA,OAAA,WACA9H,KAAA8L,kBAAAhE,EAAAC,MAAAD,EAAAE,QAIA,SAAA+D,EAAA3E,EAAA3D,GACA,OAAA,WACAzD,KAAAgM,aAAA5E,EAAA3D,IAIA,SAAAwI,EAAAnE,EAAArE,GACA,OAAA,WACAzD,KAAAkM,eAAApE,EAAAC,MAAAD,EAAAE,MAAAvE,IAIA,SAAA0I,EAAA/E,EAAA3D,GACA,OAAA,WACA,IAAA2I,EAAA3I,EAAA2G,MAAApK,KAAAqM,WACA,MAAAD,EAAApM,KAAA4L,gBAAAxE,GACApH,KAAAgM,aAAA5E,EAAAgF,IAIA,SAAAE,EAAAxE,EAAArE,GACA,OAAA,WACA,IAAA2I,EAAA3I,EAAA2G,MAAApK,KAAAqM,WACA,MAAAD,EAAApM,KAAA8L,kBAAAhE,EAAAC,MAAAD,EAAAE,OACAhI,KAAAkM,eAAApE,EAAAC,MAAAD,EAAAE,MAAAoE,IA0BA,SAAAG,EAAAnF,GACA,OAAA,WACApH,KAAAwM,MAAAC,eAAArF,IAIA,SAAAsF,EAAAtF,EAAA3D,EAAAkJ,GACA,OAAA,WACA3M,KAAAwM,MAAAI,YAAAxF,EAAA3D,EAAAkJ,IAIA,SAAAE,EAAAzF,EAAA3D,EAAAkJ,GACA,OAAA,WACA,IAAAP,EAAA3I,EAAA2G,MAAApK,KAAAqM,WACA,MAAAD,EAAApM,KAAAwM,MAAAC,eAAArF,GACApH,KAAAwM,MAAAI,YAAAxF,EAAAgF,EAAAO,IAaA,SAAAG,EAAA7B,EAAA7D,GACA,OAAA6D,EAAAuB,MAAAO,iBAAA3F,IACA4F,GAAA/B,GAAAgC,iBAAAhC,EAAA,MAAA8B,iBAAA3F,GAGA,SAAA8F,EAAA9F,GACA,OAAA,kBACApH,KAAAoH,IAIA,SAAA+F,EAAA/F,EAAA3D,GACA,OAAA,WACAzD,KAAAoH,GAAA3D,GAIA,SAAA2J,EAAAhG,EAAA3D,GACA,OAAA,WACA,IAAA2I,EAAA3I,EAAA2G,MAAApK,KAAAqM,WACA,MAAAD,SAAApM,KAAAoH,GACApH,KAAAoH,GAAAgF,GAaA,SAAAiB,EAAAC,GACA,OAAAA,EAAArE,OAAAC,MAAA,SAGA,SAAAqE,EAAAtC,GACA,OAAAA,EAAAsC,WAAA,IAAAC,EAAAvC,GAGA,SAAAuC,EAAAvC,GACAjL,KAAAyN,MAAAxC,EACAjL,KAAA0N,OAAAL,EAAApC,EAAA0C,aAAA,UAAA,IAuBA,SAAAC,EAAA3C,EAAA4C,GAEA,IADA,IAAAC,EAAAP,EAAAtC,GAAAtK,GAAA,EAAAP,EAAAyN,EAAA7M,SACAL,EAAAP,GAAA0N,EAAAC,IAAAF,EAAAlN,IAGA,SAAAqN,EAAA/C,EAAA4C,GAEA,IADA,IAAAC,EAAAP,EAAAtC,GAAAtK,GAAA,EAAAP,EAAAyN,EAAA7M,SACAL,EAAAP,GAAA0N,EAAAG,OAAAJ,EAAAlN,IAGA,SAAAuN,EAAAL,GACA,OAAA,WACAD,EAAA5N,KAAA6N,IAIA,SAAAM,EAAAN,GACA,OAAA,WACAG,EAAAhO,KAAA6N,IAIA,SAAAO,EAAAP,EAAApK,GACA,OAAA,YACAA,EAAA2G,MAAApK,KAAAqM,WAAAuB,EAAAI,GAAAhO,KAAA6N,IAmBA,SAAAQ,IACArO,KAAAsO,YAAA,GAGA,SAAAC,EAAA9K,GACA,OAAA,WACAzD,KAAAsO,YAAA7K,GAIA,SAAA+K,EAAA/K,GACA,OAAA,WACA,IAAA2I,EAAA3I,EAAA2G,MAAApK,KAAAqM,WACArM,KAAAsO,YAAA,MAAAlC,EAAA,GAAAA,GAaA,SAAAqC,IACAzO,KAAA0O,UAAA,GAGA,SAAAC,EAAAlL,GACA,OAAA,WACAzD,KAAA0O,UAAAjL,GAIA,SAAAmL,EAAAnL,GACA,OAAA,WACA,IAAA2I,EAAA3I,EAAA2G,MAAApK,KAAAqM,WACArM,KAAA0O,UAAA,MAAAtC,EAAA,GAAAA,GAaA,SAAAyC,IACA7O,KAAA8O,aAAA9O,KAAA+O,WAAAC,YAAAhP,MAOA,SAAAiP,IACAjP,KAAAkP,iBAAAlP,KAAA+O,WAAAI,aAAAnP,KAAAA,KAAA+O,WAAAK,YAcA,SAAAC,IACA,OAAA,KAWA,SAAApB,IACA,IAAAzD,EAAAxK,KAAA+O,WACAvE,GAAAA,EAAA8E,YAAAtP,MAaA,SAAAuP,EAAAtE,EAAA9I,EAAAqN,GACA,IAAA3P,EAAAmN,GAAA/B,GACAzC,EAAA3I,EAAA4P,YAEA,mBAAAjH,EACAA,EAAA,IAAAA,EAAArG,EAAAqN,IAEAhH,EAAA3I,EAAAwH,SAAAqI,YAAA,SACAF,GAAAhH,EAAAmH,UAAAxN,EAAAqN,EAAAI,QAAAJ,EAAAK,YAAArH,EAAAsH,OAAAN,EAAAM,QACAtH,EAAAmH,UAAAxN,GAAA,GAAA,IAGA8I,EAAAsE,cAAA/G,GAGA,SAAAuH,EAAA5N,EAAAqN,GACA,OAAA,WACA,OAAAD,EAAAvP,KAAAmC,EAAAqN,IAIA,SAAAQ,EAAA7N,EAAAqN,GACA,OAAA,WACA,OAAAD,EAAAvP,KAAAmC,EAAAqN,EAAApF,MAAApK,KAAAqM,aAYA,SAAA4D,EAAAC,EAAAC,GACAnQ,KAAAoQ,QAAAF,EACAlQ,KAAAqQ,SAAAF,EAGA,SAAAG,IACA,OAAA,IAAAL,IAAA5I,SAAAK,kBAAA6I,IA/2BA,IAAA9I,EAAA,+BAEA+I,IACAC,IAAA,6BACAhJ,MAAAA,EACAiJ,MAAA,+BACAC,IAAA,uCACAC,MAAA,iCAGAC,GAAA,SAAAzJ,GACA,IAAAzB,EAAAyB,GAAA,GAAAzG,EAAAgF,EAAA3C,QAAA,KAEA,OADArC,GAAA,GAAA,WAAAgF,EAAAyB,EAAAlF,MAAA,EAAAvB,MAAAyG,EAAAA,EAAAlF,MAAAvB,EAAA,IACA6P,GAAA1G,eAAAnE,IAAAoC,MAAAyI,GAAA7K,GAAAqC,MAAAZ,GAAAA,GAmBA0J,GAAA,SAAA1J,GACA,IAAAU,EAAA+I,GAAAzJ,GACA,OAAAU,EAAAE,MACAH,EACAV,GAAAW,IAGAK,GAAA,EAUAF,EAAA3C,UAAA0C,EAAA1C,WACAyL,YAAA9I,EACA+I,IAAA,SAAA/F,GAEA,IADA,IAAAgG,EAAAjR,KAAAkI,IACA+I,KAAAhG,IAAA,KAAAA,EAAAA,EAAA8D,YAAA,OACA,OAAA9D,EAAAgG,IAEAC,IAAA,SAAAjG,EAAAxH,GACA,OAAAwH,EAAAjL,KAAAkI,GAAAzE,GAEAwK,OAAA,SAAAhD,GACA,OAAAjL,KAAAkI,KAAA+C,UAAAA,EAAAjL,KAAAkI,IAEAlD,SAAA,WACA,OAAAhF,KAAAkI,IAIA,IAAAiJ,GAAA,SAAAC,GACA,OAAA,WACA,OAAApR,KAAAqR,QAAAD,KAIA,GAAA,oBAAA/J,SAAA,CACA,IAAAiK,GAAAjK,SAAAK,gBACA,IAAA4J,GAAAD,QAAA,CACA,IAAAE,GAAAD,GAAAE,uBACAF,GAAAG,mBACAH,GAAAI,oBACAJ,GAAAK,iBACAR,GAAA,SAAAC,GACA,OAAA,WACA,OAAAG,GAAAxQ,KAAAf,KAAAoR,MAMA,IAAAQ,GAAAT,GAEAtH,MAEApK,EAAA+I,MAAA,KAEA,oBAAAnB,WAEA,iBADAA,SAAAK,kBAEAmC,IAAAgI,WAAA,YAAAC,WAAA,cAqEA,IAAAC,GAAA,SAAA1I,EAAA5F,EAAAiG,GACA,IAAA/I,EAAAR,EAAA6I,EAAAD,EAAAM,EAAA,IAAAjJ,EAAA4I,EAAAhI,OAEA,CAAA,KAAAqL,UAAArL,OAAA,GAAA,CAcA,IAFAsI,EAAA7F,EAAAkG,EAAAP,EACA,MAAAM,IAAAA,GAAA,GACA/I,EAAA,EAAAA,EAAAP,IAAAO,EAAAX,KAAAgS,KAAA1I,EAAAN,EAAArI,GAAA8C,EAAAiG,IACA,OAAA1J,KAdA,IAAAsJ,EAAAtJ,KAAAiL,OAAA1B,KACA,GAAAD,EAAA,IAAA,IAAA/I,EAAAmD,EAAA,EAAA8F,EAAAF,EAAAtI,OAAA0C,EAAA8F,IAAA9F,EACA,IAAA/C,EAAA,EAAAJ,EAAA+I,EAAA5F,GAAA/C,EAAAP,IAAAO,EACA,IAAAR,EAAA6I,EAAArI,IAAAwB,OAAA5B,EAAA4B,MAAAhC,EAAAiH,OAAA7G,EAAA6G,KACA,OAAA7G,EAAAkD,QAwBA0G,GAAA,WAEA,IADA,IAAA8H,EAAAC,EAAAzS,EAAA+I,MACAyJ,EAAAC,EAAA/H,aAAA+H,EAAAD,EACA,OAAAC,GAGAC,GAAA,SAAAlH,EAAAzC,GACA,IAAAiI,EAAAxF,EAAAmH,iBAAAnH,EAEA,GAAAwF,EAAA4B,eAAA,CACA,IAAAF,EAAA1B,EAAA4B,iBAGA,OAFAF,EAAAtP,EAAA2F,EAAA8J,QAAAH,EAAAI,EAAA/J,EAAAgK,QACAL,EAAAA,EAAAM,gBAAAxH,EAAAyH,eAAAC,YACAR,EAAAtP,EAAAsP,EAAAI,GAGA,IAAAK,EAAA3H,EAAA4H,wBACA,OAAArK,EAAA8J,QAAAM,EAAAE,KAAA7H,EAAA8H,WAAAvK,EAAAgK,QAAAI,EAAAI,IAAA/H,EAAAgI,YAGAC,GAAA,SAAAjI,GACA,IAAAzC,EAAA2B,KAEA,OADA3B,EAAA2K,iBAAA3K,EAAAA,EAAA2K,eAAA,IACAhB,GAAAlH,EAAAzC,IAKA4I,GAAA,SAAAA,GACA,OAAA,MAAAA,EAAA/G,EAAA,WACA,OAAArK,KAAAoT,cAAAhC,KAIAiC,GAAA,SAAAC,GACA,mBAAAA,IAAAA,EAAAlC,GAAAkC,IAEA,IAAA,IAAApD,EAAAlQ,KAAAoQ,QAAA5G,EAAA0G,EAAAlP,OAAAuS,EAAA,IAAAjP,MAAAkF,GAAA9F,EAAA,EAAAA,EAAA8F,IAAA9F,EACA,IAAA,IAAAuH,EAAAuI,EAAArN,EAAA+J,EAAAxM,GAAAtD,EAAA+F,EAAAnF,OAAAyS,EAAAF,EAAA7P,GAAA,IAAAY,MAAAlE,GAAAO,EAAA,EAAAA,EAAAP,IAAAO,GACAsK,EAAA9E,EAAAxF,MAAA6S,EAAAF,EAAAvS,KAAAkK,EAAAA,EAAAnC,SAAAnI,EAAAwF,MACA,aAAA8E,IAAAuI,EAAA1K,SAAAmC,EAAAnC,UACA2K,EAAA9S,GAAA6S,GAKA,OAAA,IAAAvD,EAAAsD,EAAAvT,KAAAqQ,WAOAqD,GAAA,SAAAtC,GACA,OAAA,MAAAA,EAAA9G,EAAA,WACA,OAAAtK,KAAA2T,iBAAAvC,KAIAwC,GAAA,SAAAN,GACA,mBAAAA,IAAAA,EAAAI,GAAAJ,IAEA,IAAA,IAAApD,EAAAlQ,KAAAoQ,QAAA5G,EAAA0G,EAAAlP,OAAAuS,KAAApD,KAAAzM,EAAA,EAAAA,EAAA8F,IAAA9F,EACA,IAAA,IAAAuH,EAAA9E,EAAA+J,EAAAxM,GAAAtD,EAAA+F,EAAAnF,OAAAL,EAAA,EAAAA,EAAAP,IAAAO,GACAsK,EAAA9E,EAAAxF,MACA4S,EAAA1P,KAAAyP,EAAAvS,KAAAkK,EAAAA,EAAAnC,SAAAnI,EAAAwF,IACAgK,EAAAtM,KAAAoH,IAKA,OAAA,IAAAgF,EAAAsD,EAAApD,IAGA0D,GAAA,SAAAtS,GACA,mBAAAA,IAAAA,EAAAqQ,GAAArQ,IAEA,IAAA,IAAA2O,EAAAlQ,KAAAoQ,QAAA5G,EAAA0G,EAAAlP,OAAAuS,EAAA,IAAAjP,MAAAkF,GAAA9F,EAAA,EAAAA,EAAA8F,IAAA9F,EACA,IAAA,IAAAuH,EAAA9E,EAAA+J,EAAAxM,GAAAtD,EAAA+F,EAAAnF,OAAAyS,EAAAF,EAAA7P,MAAA/C,EAAA,EAAAA,EAAAP,IAAAO,GACAsK,EAAA9E,EAAAxF,KAAAY,EAAAR,KAAAkK,EAAAA,EAAAnC,SAAAnI,EAAAwF,IACAsN,EAAA5P,KAAAoH,GAKA,OAAA,IAAAgF,EAAAsD,EAAAvT,KAAAqQ,WAGAyD,GAAA,SAAAhJ,GACA,OAAA,IAAAxG,MAAAwG,EAAA9J,SAGA+S,GAAA,WACA,OAAA,IAAA9D,EAAAjQ,KAAAgU,QAAAhU,KAAAoQ,QAAAjH,IAAA2K,IAAA9T,KAAAqQ,WAWA9F,EAAAjF,WACAyL,YAAAxG,EACAyE,YAAA,SAAAiF,GAAA,OAAAjU,KAAA2K,QAAAwE,aAAA8E,EAAAjU,KAAA0K,QACAyE,aAAA,SAAA8E,EAAAC,GAAA,OAAAlU,KAAA2K,QAAAwE,aAAA8E,EAAAC,IACAd,cAAA,SAAAhC,GAAA,OAAApR,KAAA2K,QAAAyI,cAAAhC,IACAuC,iBAAA,SAAAvC,GAAA,OAAApR,KAAA2K,QAAAgJ,iBAAAvC,KAGA,IAAA+C,GAAA,SAAAtR,GACA,OAAA,WACA,OAAAA,IAIA4I,GAAA,IAwEA2I,GAAA,SAAA3Q,EAAA4H,GACA,IAAA5H,EAGA,OAFAuH,EAAA,IAAA1G,MAAAtE,KAAAqU,QAAA3Q,GAAA,EACA1D,KAAAgS,KAAA,SAAA3N,GAAA2G,IAAAtH,GAAAW,IACA2G,EAGA,IAAAsJ,EAAAjJ,EAAAD,EAAAR,EACAuF,EAAAnQ,KAAAqQ,SACAH,EAAAlQ,KAAAoQ,QAEA,mBAAA3M,IAAAA,EAAA0Q,GAAA1Q,IAEA,IAAA,IAAA+F,EAAA0G,EAAAlP,OAAA8J,EAAA,IAAAxG,MAAAkF,GAAAqB,EAAA,IAAAvG,MAAAkF,GAAAuB,EAAA,IAAAzG,MAAAkF,GAAA9F,EAAA,EAAAA,EAAA8F,IAAA9F,EAAA,CACA,IAAA8G,EAAA2F,EAAAzM,GACAyC,EAAA+J,EAAAxM,GACAwH,EAAA/E,EAAAnF,OACAgK,EAAAvH,EAAA1C,KAAAyJ,EAAAA,GAAAA,EAAA1B,SAAApF,EAAAyM,GACAhF,EAAAH,EAAAhK,OACAuT,EAAA1J,EAAAnH,GAAA,IAAAY,MAAA6G,GACAqJ,EAAA1J,EAAApH,GAAA,IAAAY,MAAA6G,GAGAmJ,EAAA9J,EAAArE,EAAAoO,EAAAC,EAFAzJ,EAAArH,GAAA,IAAAY,MAAA4G,GAEAF,EAAAK,GAKA,IAAA,IAAAoJ,EAAAP,EAAAvP,EAAA,EAAAF,EAAA,EAAAE,EAAAwG,IAAAxG,EACA,GAAA8P,EAAAF,EAAA5P,GAAA,CAEA,IADAA,GAAAF,IAAAA,EAAAE,EAAA,KACAuP,EAAAM,EAAA/P,OAAAA,EAAA0G,IACAsJ,EAAA/J,MAAAwJ,GAAA,MAQA,OAHApJ,EAAA,IAAAmF,EAAAnF,EAAAqF,GACArF,EAAAkJ,OAAAnJ,EACAC,EAAA4J,MAAA3J,EACAD,GAGA6J,GAAA,WACA,OAAA,IAAA1E,EAAAjQ,KAAA0U,OAAA1U,KAAAoQ,QAAAjH,IAAA2K,IAAA9T,KAAAqQ,WAGAuE,GAAA,SAAAtE,GAEA,IAAA,IAAAuE,EAAA7U,KAAAoQ,QAAA0E,EAAAxE,EAAAF,QAAA2E,EAAAF,EAAA7T,OAAAgU,EAAAF,EAAA9T,OAAAwI,EAAArG,KAAA+B,IAAA6P,EAAAC,GAAAC,EAAA,IAAA3Q,MAAAyQ,GAAArR,EAAA,EAAAA,EAAA8F,IAAA9F,EACA,IAAA,IAAAuH,EAAAiK,EAAAL,EAAAnR,GAAAyR,EAAAL,EAAApR,GAAAtD,EAAA8U,EAAAlU,OAAAoU,EAAAH,EAAAvR,GAAA,IAAAY,MAAAlE,GAAAO,EAAA,EAAAA,EAAAP,IAAAO,GACAsK,EAAAiK,EAAAvU,IAAAwU,EAAAxU,MACAyU,EAAAzU,GAAAsK,GAKA,KAAAvH,EAAAqR,IAAArR,EACAuR,EAAAvR,GAAAmR,EAAAnR,GAGA,OAAA,IAAAuM,EAAAgF,EAAAjV,KAAAqQ,WAGAgF,GAAA,WAEA,IAAA,IAAAnF,EAAAlQ,KAAAoQ,QAAA1M,GAAA,EAAA8F,EAAA0G,EAAAlP,SAAA0C,EAAA8F,GACA,IAAA,IAAAyB,EAAA9E,EAAA+J,EAAAxM,GAAA/C,EAAAwF,EAAAnF,OAAA,EAAAkT,EAAA/N,EAAAxF,KAAAA,GAAA,IACAsK,EAAA9E,EAAAxF,MACAuT,GAAAA,IAAAjJ,EAAA6D,aAAAoF,EAAAnF,WAAAI,aAAAlE,EAAAiJ,GACAA,EAAAjJ,GAKA,OAAAjL,MAGAsV,GAAA,SAAAC,GAGA,SAAAC,EAAA/U,EAAAqE,GACA,OAAArE,GAAAqE,EAAAyQ,EAAA9U,EAAAqI,SAAAhE,EAAAgE,WAAArI,GAAAqE,EAHAyQ,IAAAA,EAAA7J,GAMA,IAAA,IAAAwE,EAAAlQ,KAAAoQ,QAAA5G,EAAA0G,EAAAlP,OAAAyU,EAAA,IAAAnR,MAAAkF,GAAA9F,EAAA,EAAAA,EAAA8F,IAAA9F,EAAA,CACA,IAAA,IAAAuH,EAAA9E,EAAA+J,EAAAxM,GAAAtD,EAAA+F,EAAAnF,OAAA0U,EAAAD,EAAA/R,GAAA,IAAAY,MAAAlE,GAAAO,EAAA,EAAAA,EAAAP,IAAAO,GACAsK,EAAA9E,EAAAxF,MACA+U,EAAA/U,GAAAsK,GAGAyK,EAAAC,KAAAH,GAGA,OAAA,IAAAvF,EAAAwF,EAAAzV,KAAAqQ,UAAAuF,SAOAC,GAAA,WACA,IAAAC,EAAAzJ,UAAA,GAGA,OAFAA,UAAA,GAAArM,KACA8V,EAAA1L,MAAA,KAAAiC,WACArM,MAGA+V,GAAA,WACA,IAAAC,EAAA,IAAA1R,MAAAtE,KAAAqU,QAAA1T,GAAA,EAEA,OADAX,KAAAgS,KAAA,WAAAgE,IAAArV,GAAAX,OACAgW,GAGAC,GAAA,WAEA,IAAA,IAAA/F,EAAAlQ,KAAAoQ,QAAA1M,EAAA,EAAA8F,EAAA0G,EAAAlP,OAAA0C,EAAA8F,IAAA9F,EACA,IAAA,IAAAyC,EAAA+J,EAAAxM,GAAA/C,EAAA,EAAAP,EAAA+F,EAAAnF,OAAAL,EAAAP,IAAAO,EAAA,CACA,IAAAsK,EAAA9E,EAAAxF,GACA,GAAAsK,EAAA,OAAAA,EAIA,OAAA,MAGAiL,GAAA,WACA,IAAA7B,EAAA,EAEA,OADArU,KAAAgS,KAAA,aAAAqC,IACAA,GAGA8B,GAAA,WACA,OAAAnW,KAAAiL,QAGAmL,GAAA,SAAAN,GAEA,IAAA,IAAA5F,EAAAlQ,KAAAoQ,QAAA1M,EAAA,EAAA8F,EAAA0G,EAAAlP,OAAA0C,EAAA8F,IAAA9F,EACA,IAAA,IAAAuH,EAAA9E,EAAA+J,EAAAxM,GAAA/C,EAAA,EAAAP,EAAA+F,EAAAnF,OAAAL,EAAAP,IAAAO,GACAsK,EAAA9E,EAAAxF,KAAAmV,EAAA/U,KAAAkK,EAAAA,EAAAnC,SAAAnI,EAAAwF,GAIA,OAAAnG,MA2CAqW,GAAA,SAAAjP,EAAA3D,GACA,IAAAqE,EAAA+I,GAAAzJ,GAEA,GAAAiF,UAAArL,OAAA,EAAA,CACA,IAAAiK,EAAAjL,KAAAiL,OACA,OAAAnD,EAAAE,MACAiD,EAAAqL,eAAAxO,EAAAC,MAAAD,EAAAE,OACAiD,EAAA0C,aAAA7F,GAGA,OAAA9H,KAAAgS,MAAA,MAAAvO,EACAqE,EAAAE,MAAA6D,EAAAF,EAAA,mBAAAlI,EACAqE,EAAAE,MAAAsE,EAAAH,EACArE,EAAAE,MAAAiE,EAAAF,GAAAjE,EAAArE,KAGAuJ,GAAA,SAAA/B,GACA,OAAAA,EAAA3D,eAAA2D,EAAA3D,cAAA0F,aACA/B,EAAA5D,UAAA4D,GACAA,EAAA+B,aAuBAuJ,GAAA,SAAAnP,EAAA3D,EAAAkJ,GACA,OAAAN,UAAArL,OAAA,EACAhB,KAAAgS,MAAA,MAAAvO,EACA8I,EAAA,mBAAA9I,EACAoJ,EACAH,GAAAtF,EAAA3D,EAAA,MAAAkJ,EAAA,GAAAA,IACAG,EAAA9M,KAAAiL,OAAA7D,IA4BAoP,GAAA,SAAApP,EAAA3D,GACA,OAAA4I,UAAArL,OAAA,EACAhB,KAAAgS,MAAA,MAAAvO,EACAyJ,EAAA,mBAAAzJ,EACA2J,EACAD,GAAA/F,EAAA3D,IACAzD,KAAAiL,OAAA7D,IAgBAoG,EAAAlI,WACAyI,IAAA,SAAA3G,GACApH,KAAA0N,OAAA1K,QAAAoE,GACA,IACApH,KAAA0N,OAAA7J,KAAAuD,GACApH,KAAAyN,MAAAzB,aAAA,QAAAhM,KAAA0N,OAAA1J,KAAA,QAGAiK,OAAA,SAAA7G,GACA,IAAAzG,EAAAX,KAAA0N,OAAA1K,QAAAoE,GACAzG,GAAA,IACAX,KAAA0N,OAAA+I,OAAA9V,EAAA,GACAX,KAAAyN,MAAAzB,aAAA,QAAAhM,KAAA0N,OAAA1J,KAAA,QAGA0S,SAAA,SAAAtP,GACA,OAAApH,KAAA0N,OAAA1K,QAAAoE,IAAA,IAgCA,IAAAuP,GAAA,SAAAvP,EAAA3D,GACA,IAAAoK,EAAAR,EAAAjG,EAAA,IAEA,GAAAiF,UAAArL,OAAA,EAAA,CAEA,IADA,IAAA8M,EAAAP,EAAAvN,KAAAiL,QAAAtK,GAAA,EAAAP,EAAAyN,EAAA7M,SACAL,EAAAP,GAAA,IAAA0N,EAAA4I,SAAA7I,EAAAlN,IAAA,OAAA,EACA,OAAA,EAGA,OAAAX,KAAAgS,MAAA,mBAAAvO,EACA2K,EAAA3K,EACAyK,EACAC,GAAAN,EAAApK,KAoBAmT,GAAA,SAAAnT,GACA,OAAA4I,UAAArL,OACAhB,KAAAgS,KAAA,MAAAvO,EACA4K,GAAA,mBAAA5K,EACA+K,EACAD,GAAA9K,IACAzD,KAAAiL,OAAAqD,aAoBAuI,GAAA,SAAApT,GACA,OAAA4I,UAAArL,OACAhB,KAAAgS,KAAA,MAAAvO,EACAgL,GAAA,mBAAAhL,EACAmL,EACAD,GAAAlL,IACAzD,KAAAiL,OAAAyD,WAOAoI,GAAA,WACA,OAAA9W,KAAAgS,KAAAnD,IAOAkI,GAAA,WACA,OAAA/W,KAAAgS,KAAA/C,IAGA+H,GAAA,SAAA5P,GACA,IAAA6P,EAAA,mBAAA7P,EAAAA,EAAA0J,GAAA1J,GACA,OAAApH,KAAAsT,OAAA,WACA,OAAAtT,KAAAgP,YAAAiI,EAAA7M,MAAApK,KAAAqM,eAQA6K,GAAA,SAAA9P,EAAA+P,GACA,IAAAF,EAAA,mBAAA7P,EAAAA,EAAA0J,GAAA1J,GACAkM,EAAA,MAAA6D,EAAA9H,EAAA,mBAAA8H,EAAAA,EAAA/F,GAAA+F,GACA,OAAAnX,KAAAsT,OAAA,WACA,OAAAtT,KAAAmP,aAAA8H,EAAA7M,MAAApK,KAAAqM,WAAAiH,EAAAlJ,MAAApK,KAAAqM,YAAA,SASA+K,GAAA,WACA,OAAApX,KAAAgS,KAAA/D,IAGAoJ,GAAA,SAAA5T,GACA,OAAA4I,UAAArL,OACAhB,KAAAsX,SAAA,WAAA7T,GACAzD,KAAAiL,OAAAnC,UA8BAyO,GAAA,SAAApV,EAAAqN,GACA,OAAAxP,KAAAgS,MAAA,mBAAAxC,EACAQ,EACAD,GAAA5N,EAAAqN,KAGAe,IAAA,MAWAN,EAAA3K,UAAAgL,EAAAhL,WACAyL,YAAAd,EACAqD,OAAAD,GACAmE,UAAA5D,GACA6D,OAAA5D,GACA7I,KAAAoJ,GACAvJ,MAAAkJ,GACAhJ,KAAA4J,GACAS,MAAAR,GACAgB,MAAAP,GACAM,KAAAL,GACAvU,KAAA8U,GACAG,MAAAD,GACA9K,KAAAgL,GACA5B,KAAA6B,GACA5L,MAAA6L,GACAnE,KAAAoE,GACAsB,KAAArB,GACA7J,MAAA+J,GACAe,SAAAd,GACAmB,QAAAhB,GACAiB,KAAAhB,GACAiB,KAAAhB,GACAhI,MAAAiI,GACA7H,MAAA8H,GACAe,OAAAd,GACAe,OAAAb,GACAjJ,OAAAmJ,GACA3M,MAAA4M,GACA/N,GAAAyI,GACAiG,SAAAT,IAGA,IAAAjE,GAAA,SAAAlC,GACA,MAAA,iBAAAA,EACA,IAAAnB,IAAA5I,SAAA+L,cAAAhC,MAAA/J,SAAAK,kBACA,IAAAuI,IAAAmB,IAAAb,KAGAiH,GAAA,SAAApG,GACA,MAAA,iBAAAA,EACA,IAAAnB,GAAA5I,SAAAsM,iBAAAvC,KAAA/J,SAAAK,kBACA,IAAAuI,GAAA,MAAAmB,KAAAA,GAAAb,KAGA0H,GAAA,SAAAhN,EAAAiN,EAAAC,GACA9L,UAAArL,OAAA,IAAAmX,EAAAD,EAAAA,EAAA/N,KAAAgJ,gBAEA,IAAA,IAAA8E,EAAAtX,EAAA,EAAAP,EAAA8X,EAAAA,EAAAlX,OAAA,EAAAL,EAAAP,IAAAO,EACA,IAAAsX,EAAAC,EAAAvX,IAAAwX,aAAAA,EACA,OAAAhG,GAAAlH,EAAAgN,GAIA,OAAA,MAGAC,GAAA,SAAAjN,EAAAiN,GACA,MAAAA,IAAAA,EAAA/N,KAAA+N,SAEA,IAAA,IAAAvX,EAAA,EAAAP,EAAA8X,EAAAA,EAAAlX,OAAA,EAAAoX,EAAA,IAAA9T,MAAAlE,GAAAO,EAAAP,IAAAO,EACAyX,EAAAzX,GAAAwR,GAAAlH,EAAAiN,EAAAvX,IAGA,OAAAyX,GAGA3Y,EAAAqR,QAAAA,GACArR,EAAAuI,MAAAA,EACAvI,EAAA0R,QAAAS,GACAnS,EAAAyT,MAAAA,GACAzT,EAAAoR,UAAAA,GACApR,EAAA+Q,WAAAA,GACA/Q,EAAA6T,OAAAA,GACA7T,EAAA+X,UAAAA,GACA/X,EAAA6Q,UAAAA,EACA7Q,EAAA2R,SAAAA,GACA3R,EAAAiU,YAAAA,GACAjU,EAAA+M,MAAAM,EACArN,EAAAwY,MAAAA,GACAxY,EAAAyY,QAAAA,GACAzY,EAAAI,OAAAmN,GACAvN,EAAAuK,YAAAA,EAEA/C,OAAAC,eAAAzH,EAAA,cAAAgE,OAAA,+BC58BA,SAAA3D,EAAAoB,GACA,iBAAAzB,QAAA,IAAAC,EAAAwB,EAAAzB,EAAAiB,EAAA,YAEAQ,EAAApB,EAAAqB,GAAArB,EAAAqB,OAAArB,EAAAqB,KACAnB,KAAA,SAAAP,EAAA4Y,GAAA,aAEA,SAAAC,EAAAjU,GACA,GAAA,GAAAA,EAAAkO,GAAAlO,EAAAkO,EAAA,IAAA,CACA,IAAAgG,EAAA,IAAAC,MAAA,EAAAnU,EAAAmF,EAAAnF,EAAAA,EAAAA,EAAAoU,EAAApU,EAAAqU,EAAArU,EAAAsU,EAAAtU,EAAAuU,GAEA,OADAL,EAAAM,YAAAxU,EAAAkO,GACAgG,EAEA,OAAA,IAAAC,KAAAnU,EAAAkO,EAAAlO,EAAAmF,EAAAnF,EAAAA,EAAAA,EAAAoU,EAAApU,EAAAqU,EAAArU,EAAAsU,EAAAtU,EAAAuU,GAGA,SAAAE,EAAAzU,GACA,GAAA,GAAAA,EAAAkO,GAAAlO,EAAAkO,EAAA,IAAA,CACA,IAAAgG,EAAA,IAAAC,KAAAA,KAAAO,KAAA,EAAA1U,EAAAmF,EAAAnF,EAAAA,EAAAA,EAAAoU,EAAApU,EAAAqU,EAAArU,EAAAsU,EAAAtU,EAAAuU,IAEA,OADAL,EAAAS,eAAA3U,EAAAkO,GACAgG,EAEA,OAAA,IAAAC,KAAAA,KAAAO,IAAA1U,EAAAkO,EAAAlO,EAAAmF,EAAAnF,EAAAA,EAAAA,EAAAoU,EAAApU,EAAAqU,EAAArU,EAAAsU,EAAAtU,EAAAuU,IAGA,SAAAK,EAAA1G,GACA,OAAAA,EAAAA,EAAA/I,EAAA,EAAAnF,EAAA,EAAAoU,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAAC,EAAA,GAGA,SAAApW,EAAAD,GA8GA,SAAAkD,EAAApE,EAAA6X,GACA,OAAA,SAAAX,GACA,IAIAtT,EACAkU,EACA1W,EANA6K,KACA3M,GAAA,EACA+C,EAAA,EACAtD,EAAAiB,EAAAL,OAOA,IAFAuX,aAAAC,OAAAD,EAAA,IAAAC,MAAAD,MAEA5X,EAAAP,GACA,KAAAiB,EAAA4E,WAAAtF,KACA2M,EAAAzJ,KAAAxC,EAAAa,MAAAwB,EAAA/C,IACA,OAAAwY,EAAAC,GAAAnU,EAAA5D,EAAAgY,SAAA1Y,KAAAsE,EAAA5D,EAAAgY,SAAA1Y,GACAwY,EAAA,MAAAlU,EAAA,IAAA,KACAxC,EAAAyW,EAAAjU,MAAAA,EAAAxC,EAAA8V,EAAAY,IACA7L,EAAAzJ,KAAAoB,GACAvB,EAAA/C,EAAA,GAKA,OADA2M,EAAAzJ,KAAAxC,EAAAa,MAAAwB,EAAA/C,IACA2M,EAAAtJ,KAAA,KAIA,SAAAsV,EAAAjY,EAAAkY,GACA,OAAA,SAAAjM,GACA,IAAAjJ,EAAA4U,EAAA,MAEA,GADAO,EAAAnV,EAAAhD,EAAAiM,GAAA,GAAA,IACAA,EAAAtM,OAAA,OAAA,KAMA,GAHA,MAAAqD,IAAAA,EAAAoU,EAAApU,EAAAoU,EAAA,GAAA,GAAApU,EAAAvB,GAGA,MAAAuB,GAAA,MAAAA,EAAA,CACA,MAAAA,IAAAA,EAAAoV,EAAA,MAAApV,EAAA,EAAA,GACA,IAAAqV,EAAA,MAAArV,EAAAyU,EAAAG,EAAA5U,EAAAkO,IAAAoH,YAAAJ,EAAAN,EAAA5U,EAAAkO,IAAAqH,SACAvV,EAAAmF,EAAA,EACAnF,EAAAA,EAAA,MAAAA,GAAAA,EAAAoV,EAAA,GAAA,EAAA,EAAApV,EAAAwV,GAAAH,EAAA,GAAA,EAAArV,EAAAoV,EAAA,EAAApV,EAAAyV,GAAAJ,EAAA,GAAA,EAKA,MAAA,MAAArV,GACAA,EAAAoU,GAAApU,EAAA0V,EAAA,IAAA,EACA1V,EAAAqU,GAAArU,EAAA0V,EAAA,IACAjB,EAAAzU,IAIAkV,EAAAlV,IAIA,SAAAmV,EAAAnV,EAAAhD,EAAAiM,EAAA5J,GAOA,IANA,IAGAuB,EACA+U,EAJArZ,EAAA,EACAP,EAAAiB,EAAAL,OACAwI,EAAA8D,EAAAtM,OAIAL,EAAAP,GAAA,CACA,GAAAsD,GAAA8F,EAAA,OAAA,EAEA,GAAA,MADAvE,EAAA5D,EAAA4E,WAAAtF,OAIA,GAFAsE,EAAA5D,EAAAgY,OAAA1Y,OACAqZ,EAAAC,GAAAhV,KAAAmU,GAAA/X,EAAAgY,OAAA1Y,KAAAsE,MACAvB,EAAAsW,EAAA3V,EAAAiJ,EAAA5J,IAAA,EAAA,OAAA,OACA,GAAAuB,GAAAqI,EAAArH,WAAAvC,KACA,OAAA,EAIA,OAAAA,EAGA,SAAAwW,EAAA7V,EAAAiJ,EAAA3M,GACA,IAAAP,EAAA+Z,GAAA1Y,KAAA6L,EAAApL,MAAAvB,IACA,OAAAP,GAAAiE,EAAAvB,EAAAsX,GAAAha,EAAA,GAAAoG,eAAA7F,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAqZ,EAAAhW,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAka,GAAA7Y,KAAA6L,EAAApL,MAAAvB,IACA,OAAAP,GAAAiE,EAAAoV,EAAAc,GAAAna,EAAA,GAAAoG,eAAA7F,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAwZ,GAAAnW,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAqa,GAAAhZ,KAAA6L,EAAApL,MAAAvB,IACA,OAAAP,GAAAiE,EAAAoV,EAAAiB,GAAAta,EAAA,GAAAoG,eAAA7F,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAA2Z,GAAAtW,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAwa,GAAAnZ,KAAA6L,EAAApL,MAAAvB,IACA,OAAAP,GAAAiE,EAAAmF,EAAAqR,GAAAza,EAAA,GAAAoG,eAAA7F,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAA8Z,GAAAzW,EAAAiJ,EAAA3M,GACA,IAAAP,EAAA2a,GAAAtZ,KAAA6L,EAAApL,MAAAvB,IACA,OAAAP,GAAAiE,EAAAmF,EAAAwR,GAAA5a,EAAA,GAAAoG,eAAA7F,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAia,GAAA5W,EAAAiJ,EAAA3M,GACA,OAAA6Y,EAAAnV,EAAA6W,GAAA5N,EAAA3M,GAGA,SAAAwa,GAAA9W,EAAAiJ,EAAA3M,GACA,OAAA6Y,EAAAnV,EAAA+W,GAAA9N,EAAA3M,GAGA,SAAA0a,GAAAhX,EAAAiJ,EAAA3M,GACA,OAAA6Y,EAAAnV,EAAAiX,GAAAhO,EAAA3M,GAGA,SAAA4a,GAAAlX,GACA,OAAAmX,GAAAnX,EAAAuV,UAGA,SAAA6B,GAAApX,GACA,OAAAqX,GAAArX,EAAAuV,UAGA,SAAA+B,GAAAtX,GACA,OAAAuX,GAAAvX,EAAAwX,YAGA,SAAAC,GAAAzX,GACA,OAAA0X,GAAA1X,EAAAwX,YAGA,SAAAG,GAAA3X,GACA,OAAA4X,KAAA5X,EAAA6X,YAAA,KAGA,SAAAC,GAAA9X,GACA,OAAAmX,GAAAnX,EAAAsV,aAGA,SAAAyC,GAAA/X,GACA,OAAAqX,GAAArX,EAAAsV,aAGA,SAAA0C,GAAAhY,GACA,OAAAuX,GAAAvX,EAAAiY,eAGA,SAAAC,GAAAlY,GACA,OAAA0X,GAAA1X,EAAAiY,eAGA,SAAAE,GAAAnY,GACA,OAAA4X,KAAA5X,EAAAoY,eAAA,KAvQA,IAAAvB,GAAA3Y,EAAAma,SACAtB,GAAA7Y,EAAAgW,KACA+C,GAAA/Y,EAAAoa,KACAV,GAAA1Z,EAAAqa,QACAlB,GAAAnZ,EAAAsa,KACArB,GAAAjZ,EAAAua,UACAf,GAAAxZ,EAAAwa,OACAnB,GAAArZ,EAAAya,YAEA7C,GAAA8C,EAAAhB,IACA7B,GAAA8C,EAAAjB,IACAxB,GAAAwC,EAAAvB,IACAhB,GAAAwC,EAAAxB,IACApB,GAAA2C,EAAAzB,IACAjB,GAAA2C,EAAA1B,IACAT,GAAAkC,EAAAlB,IACAf,GAAAkC,EAAAnB,IACAnB,GAAAqC,EAAArB,IACAf,GAAAqC,EAAAtB,IAEA1C,IACAzY,EAAA8a,GACA4B,EAAA1B,GACA3W,EAAA6W,GACAyB,EAAAtB,GACA7W,EAAA,KACAZ,EAAAgZ,EACAnd,EAAAmd,EACA5E,EAAA6E,EACAC,EAAAC,EACA9Z,EAAA+Z,EACA7E,EAAA8E,EACAlU,EAAAmU,EACAjF,EAAAkF,EACA9a,EAAAkZ,GACArD,EAAAkF,EACA/D,EAAAgE,EACArE,EAAAsE,EACAlE,EAAAmE,EACAnb,EAAA,KACAuC,EAAA,KACAmN,EAAA0L,EACAC,EAAAC,EACApE,EAAAqE,EACAxZ,IAAAyZ,GAGAC,IACA7d,EAAA0b,GACAgB,EAAAf,GACAtX,EAAAuX,GACAe,EAAAb,GACAtX,EAAA,KACAZ,EAAAka,EACAre,EAAAqe,EACA9F,EAAA+F,EACAjB,EAAAkB,EACA/a,EAAAgb,EACA9F,EAAA+F,EACAnV,EAAAoV,EACAlG,EAAAmG,EACA/b,EAAA0Z,GACA7D,EAAAmG,EACAhF,EAAAiF,EACAtF,EAAAuF,EACAnF,EAAAoF,EACApc,EAAA,KACAuC,EAAA,KACAmN,EAAA2M,EACAhB,EAAAiB,EACApF,EAAAqF,EACAxa,IAAAyZ,GAGApE,IACAxZ,EAAA4Z,EACA8C,EAAA3C,GACA1V,EAAA6V,GACAyC,EAAAtC,GACA7V,EAAAgW,GACA5W,EAAAgb,EACAnf,EAAAmf,EACA5G,EAAA6G,EACA/B,EAAA+B,EACA5b,EAAA6b,EACA3G,EAAA4G,EACAhW,EAAAiW,EACA/G,EAAAgH,EACA5c,EAAAoX,EACAvB,EAAAgH,EACA7F,EAAA8F,EACAnG,EAAAoG,EACAhG,EAAAiG,EACAjd,EAAAsY,GACA/V,EAAAiW,GACA9I,EAAAwN,EACA7B,EAAA8B,EACAjG,EAAAkG,EACArb,IAAAsb,GAwKA,OApKAhH,GAAArW,EAAA4C,EAAA2V,GAAAlC,IACAA,GAAA9T,EAAAK,EAAA6V,GAAApC,IACAA,GAAAjU,EAAAQ,EAAAyV,GAAAhC,IACAoF,GAAAzb,EAAA4C,EAAA2V,GAAAkD,IACAA,GAAAlZ,EAAAK,EAAA6V,GAAAgD,IACAA,GAAArZ,EAAAQ,EAAAyV,GAAAoD,KAgKA7b,OAAA,SAAApB,GACA,IAAA7B,EAAAiG,EAAApE,GAAA,GAAA6X,IAEA,OADA1Z,EAAAwF,SAAA,WAAA,OAAA3D,GACA7B,GAEAwa,MAAA,SAAA3Y,GACA,IAAAyB,EAAAwW,EAAAjY,GAAA,GAAAiX,GAEA,OADAxV,EAAAkC,SAAA,WAAA,OAAA3D,GACAyB,GAEAqd,UAAA,SAAA9e,GACA,IAAA7B,EAAAiG,EAAApE,GAAA,GAAAid,IAEA,OADA9e,EAAAwF,SAAA,WAAA,OAAA3D,GACA7B,GAEA4gB,SAAA,SAAA/e,GACA,IAAAyB,EAAAwW,EAAAjY,EAAAyX,GAEA,OADAhW,EAAAkC,SAAA,WAAA,OAAA3D,GACAyB,IAUA,SAAAqW,EAAA1V,EAAA/B,EAAAK,GACA,IAAAH,EAAA6B,EAAA,EAAA,IAAA,GACA6J,GAAA1L,GAAA6B,EAAAA,GAAA,GACAzC,EAAAsM,EAAAtM,OACA,OAAAY,GAAAZ,EAAAe,EAAA,IAAAuC,MAAAvC,EAAAf,EAAA,GAAAgD,KAAAtC,GAAA4L,EAAAA,GAGA,SAAA+S,EAAA/f,GACA,OAAAA,EAAA6D,QAAAmc,GAAA,QAGA,SAAArD,EAAApP,GACA,OAAA,IAAA0S,OAAA,OAAA1S,EAAA1E,IAAAkX,GAAArc,KAAA,KAAA,IAAA,KAGA,SAAAkZ,EAAArP,GAEA,IADA,IAAA1E,KAAAxI,GAAA,EAAAP,EAAAyN,EAAA7M,SACAL,EAAAP,GAAA+I,EAAA0E,EAAAlN,GAAA6F,eAAA7F,EACA,OAAAwI,EAGA,SAAA0W,EAAAxb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAoV,GAAArZ,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAA4e,EAAAvb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,IACA,OAAAP,GAAAiE,EAAAyV,GAAA1Z,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAA8e,EAAAzb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,IACA,OAAAP,GAAAiE,EAAAwV,GAAAzZ,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAgf,EAAA3b,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAkO,GAAAnS,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAA+e,EAAA1b,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAkO,GAAAnS,EAAA,KAAAA,EAAA,GAAA,GAAA,KAAA,KAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAif,EAAA5b,EAAAiJ,EAAA3M,GACA,IAAAP,EAAA,gCAAAqB,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAA0V,EAAA3Z,EAAA,GAAA,IAAAA,EAAA,IAAAA,EAAA,IAAA,OAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAye,EAAApb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAmF,EAAApJ,EAAA,GAAA,EAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAqe,EAAAhb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAA,GAAAjE,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAue,EAAAlb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAmF,EAAA,EAAAnF,EAAAA,GAAAjE,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAse,EAAAjb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAoU,GAAArY,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAA0e,EAAArb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAqU,GAAAtY,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAA2e,EAAAtb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAsU,GAAAvY,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAwe,EAAAnb,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAogB,GAAA/e,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,GAAAiE,EAAAuU,GAAAxY,EAAA,GAAAO,EAAAP,EAAA,GAAAY,SAAA,EAGA,SAAAkf,EAAA7b,EAAAiJ,EAAA3M,GACA,IAAAP,EAAAqgB,GAAAhf,KAAA6L,EAAApL,MAAAvB,EAAAA,EAAA,IACA,OAAAP,EAAAO,EAAAP,EAAA,GAAAY,QAAA,EAGA,SAAAqc,EAAAhZ,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAqc,UAAA5d,EAAA,GAGA,SAAAwa,EAAAjZ,EAAAvB,GACA,OAAAqW,EAAA9U,EAAA6X,WAAApZ,EAAA,GAGA,SAAA0a,EAAAnZ,EAAAvB,GACA,OAAAqW,EAAA9U,EAAA6X,WAAA,IAAA,GAAApZ,EAAA,GAGA,SAAA2a,EAAApZ,EAAAvB,GACA,OAAAqW,EAAA,EAAAd,EAAAsI,QAAAC,MAAAvI,EAAAwI,SAAAxc,GAAAA,GAAAvB,EAAA,GAGA,SAAA4a,EAAArZ,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAyc,kBAAAhe,EAAA,GAGA,SAAA6a,EAAAtZ,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAwX,WAAA,EAAA/Y,EAAA,GAGA,SAAA8a,EAAAvZ,EAAAvB,GACA,OAAAqW,EAAA9U,EAAA0c,aAAAje,EAAA,GAGA,SAAA+a,EAAAxZ,EAAAvB,GACA,OAAAqW,EAAA9U,EAAA2c,aAAAle,EAAA,GAGA,SAAAgb,EAAAzZ,EAAAvB,GACA,OAAAqW,EAAAd,EAAA4I,WAAAL,MAAAvI,EAAAwI,SAAAxc,GAAAA,GAAAvB,EAAA,GAGA,SAAAib,EAAA1Z,GACA,OAAAA,EAAAuV,SAGA,SAAAoE,EAAA3Z,EAAAvB,GACA,OAAAqW,EAAAd,EAAA6I,WAAAN,MAAAvI,EAAAwI,SAAAxc,GAAAA,GAAAvB,EAAA,GAGA,SAAAmb,EAAA5Z,EAAAvB,GACA,OAAAqW,EAAA9U,EAAA8c,cAAA,IAAAre,EAAA,GAGA,SAAAqb,EAAA9Z,EAAAvB,GACA,OAAAqW,EAAA9U,EAAA8c,cAAA,IAAAre,EAAA,GAGA,SAAAsb,EAAA/Z,GACA,IAAA+c,EAAA/c,EAAAgd,oBACA,OAAAD,EAAA,EAAA,KAAAA,IAAA,EAAA,MACAjI,EAAAiI,EAAA,GAAA,EAAA,IAAA,GACAjI,EAAAiI,EAAA,GAAA,IAAA,GAGA,SAAA7C,EAAAla,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAid,aAAAxe,EAAA,GAGA,SAAA0b,EAAAna,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAoY,cAAA3Z,EAAA,GAGA,SAAA2b,EAAApa,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAoY,cAAA,IAAA,GAAA3Z,EAAA,GAGA,SAAA4b,EAAAra,EAAAvB,GACA,OAAAqW,EAAA,EAAAd,EAAAkJ,OAAAX,MAAAvI,EAAAmJ,QAAAnd,GAAAA,GAAAvB,EAAA,GAGA,SAAA6b,EAAAta,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAod,qBAAA3e,EAAA,GAGA,SAAA8b,EAAAva,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAiY,cAAA,EAAAxZ,EAAA,GAGA,SAAA+b,EAAAxa,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAqd,gBAAA5e,EAAA,GAGA,SAAAgc,EAAAza,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAsd,gBAAA7e,EAAA,GAGA,SAAAic,EAAA1a,EAAAvB,GACA,OAAAqW,EAAAd,EAAAuJ,UAAAhB,MAAAvI,EAAAmJ,QAAAnd,GAAAA,GAAAvB,EAAA,GAGA,SAAAkc,EAAA3a,GACA,OAAAA,EAAAsV,YAGA,SAAAsF,EAAA5a,EAAAvB,GACA,OAAAqW,EAAAd,EAAAwJ,UAAAjB,MAAAvI,EAAAmJ,QAAAnd,GAAAA,GAAAvB,EAAA,GAGA,SAAAoc,EAAA7a,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAyd,iBAAA,IAAAhf,EAAA,GAGA,SAAAqc,EAAA9a,EAAAvB,GACA,OAAAqW,EAAA9U,EAAAyd,iBAAA,IAAAhf,EAAA,GAGA,SAAAsc,IACA,MAAA,QAGA,SAAAf,IACA,MAAA,IAoBA,SAAAhc,EAAAC,GAMA,OALAyf,GAAAvf,EAAAF,GACA7C,EAAAuiB,WAAAD,GAAAtf,OACAhD,EAAAwiB,UAAAF,GAAA/H,MACAva,EAAA0gB,UAAA4B,GAAA5B,UACA1gB,EAAA2gB,SAAA2B,GAAA3B,SACA2B,GAKA,SAAAG,GAAA3J,GACA,OAAAA,EAAA4J,cAOA,SAAAC,GAAA9U,GACA,IAAAiL,EAAA,IAAAC,KAAAlL,GACA,OAAA+U,MAAA9J,GAAA,KAAAA,EA7PA,IAuNAwJ,GAvNA3I,IAAAkJ,IAAA,GAAApa,EAAA,IAAAqa,EAAA,KACA/B,GAAA,UACAC,GAAA,KACAH,GAAA,kCA0NAje,GACAqa,SAAA,SACAnE,KAAA,aACAoE,KAAA,eACAC,SAAA,KAAA,MACAC,MAAA,SAAA,SAAA,UAAA,YAAA,WAAA,SAAA,YACAC,WAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,OACAC,QAAA,UAAA,WAAA,QAAA,QAAA,MAAA,OAAA,OAAA,SAAA,YAAA,UAAA,WAAA,YACAC,aAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,MAAA,SAYA,IAMAwF,GAAAhK,KAAAlT,UAAA6c,YACAD,GACAziB,EAAA0gB,UARA,yBAeAsC,IAAA,IAAAjK,KAAA,4BACA4J,GACA3iB,EAAA2gB,SAjBA,yBAmBA3gB,EAAAijB,wBAAArgB,EACA5C,EAAAkjB,iBAAAngB,EACA/C,EAAAmjB,UAAAJ,GACA/iB,EAAAojB,SAAAJ,GAEAxb,OAAAC,eAAAzH,EAAA,cAAAgE,OAAA,0CCxkBA,SAAA3D,EAAAoB,GACAA,EAAA,iBAAAzB,QAAA,IAAAC,EAAAD,EAEAK,EAAAqB,GAAArB,EAAAqB,SACAnB,KAAA,SAAAP,GAAA,aAKA,SAAAqjB,EAAAC,EAAAC,EAAApC,EAAAqC,GAEA,SAAAC,EAAA3K,GACA,OAAAwK,EAAAxK,EAAA,IAAAC,MAAAD,IAAAA,EAqDA,OAlDA2K,EAAA/d,MAAA+d,EAEAA,EAAAC,KAAA,SAAA5K,GACA,OAAAwK,EAAAxK,EAAA,IAAAC,KAAAD,EAAA,IAAAyK,EAAAzK,EAAA,GAAAwK,EAAAxK,GAAAA,GAGA2K,EAAAne,MAAA,SAAAwT,GACA,IAAA6K,EAAAF,EAAA3K,GACA8K,EAAAH,EAAAC,KAAA5K,GACA,OAAAA,EAAA6K,EAAAC,EAAA9K,EAAA6K,EAAAC,GAGAH,EAAAI,OAAA,SAAA/K,EAAA1R,GACA,OAAAmc,EAAAzK,EAAA,IAAAC,MAAAD,GAAA,MAAA1R,EAAA,EAAA1D,KAAAgC,MAAA0B,IAAA0R,GAGA2K,EAAAK,MAAA,SAAAC,EAAAC,EAAA5c,GACA,IAAA0c,KAGA,GAFAC,EAAAN,EAAAC,KAAAK,GACA3c,EAAA,MAAAA,EAAA,EAAA1D,KAAAgC,MAAA0B,KACA2c,EAAAC,GAAA5c,EAAA,GAAA,OAAA0c,EACA,GAAAA,EAAA1f,KAAA,IAAA2U,MAAAgL,UAAAR,EAAAQ,EAAA3c,GAAAkc,EAAAS,GAAAA,EAAAC,GACA,OAAAF,GAGAL,EAAAzL,OAAA,SAAAlR,GACA,OAAAuc,EAAA,SAAAvK,GACA,GAAAA,GAAAA,EAAA,KAAAwK,EAAAxK,IAAAhS,EAAAgS,IAAAA,EAAAmL,QAAAnL,EAAA,IACA,SAAAA,EAAA1R,GACA,GAAA0R,GAAAA,EAAA,OAAA1R,GAAA,GAAA,KAAAmc,EAAAzK,EAAA,IAAAhS,EAAAgS,SAIAqI,IACAsC,EAAAtC,MAAA,SAAA4C,EAAAG,GAGA,OAFAC,EAAAF,SAAAF,GAAAK,EAAAH,SAAAC,GACAZ,EAAAa,GAAAb,EAAAc,GACA1gB,KAAAgC,MAAAyb,EAAAgD,EAAAC,KAGAX,EAAAY,MAAA,SAAAjd,GAEA,OADAA,EAAA1D,KAAAgC,MAAA0B,GACAkd,SAAAld,IAAAA,EAAA,EACAA,EAAA,EACAqc,EAAAzL,OAAAwL,EACA,SAAA5e,GAAA,OAAA4e,EAAA5e,GAAAwC,GAAA,GACA,SAAAxC,GAAA,OAAA6e,EAAAtC,MAAA,EAAAvc,GAAAwC,GAAA,IAHAqc,EADA,OAQAA,EAmFA,SAAAc,EAAArjB,GACA,OAAAmiB,EAAA,SAAAvK,GACAA,EAAA0L,QAAA1L,EAAAmI,WAAAnI,EAAAqB,SAAA,EAAAjZ,GAAA,GACA4X,EAAA2L,SAAA,EAAA,EAAA,EAAA,IACA,SAAA3L,EAAA1R,GACA0R,EAAA0L,QAAA1L,EAAAmI,UAAA,EAAA7Z,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAH,GAAAG,EAAAtC,oBAAAmC,EAAAnC,qBAAA8C,GAAAC,IA6FA,SAAAC,EAAA1jB,GACA,OAAAmiB,EAAA,SAAAvK,GACAA,EAAA+L,WAAA/L,EAAA+I,cAAA/I,EAAAoB,YAAA,EAAAhZ,GAAA,GACA4X,EAAAgM,YAAA,EAAA,EAAA,EAAA,IACA,SAAAhM,EAAA1R,GACA0R,EAAA+L,WAAA/L,EAAA+I,aAAA,EAAAza,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAH,GAAAY,IAzPA,IAAAR,EAAA,IAAApL,KACAqL,EAAA,IAAArL,KA6DAgM,EAAA1B,EAAA,aAEA,SAAAvK,EAAA1R,GACA0R,EAAAmL,SAAAnL,EAAA1R,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAH,IAIAgB,EAAAV,MAAA,SAAApd,GAEA,OADAA,EAAAvD,KAAAgC,MAAAuB,GACAqd,SAAArd,IAAAA,EAAA,EACAA,EAAA,EACAoc,EAAA,SAAAvK,GACAA,EAAAmL,QAAAvgB,KAAAgC,MAAAoT,EAAA7R,GAAAA,IACA,SAAA6R,EAAA1R,GACA0R,EAAAmL,SAAAnL,EAAA1R,EAAAH,IACA,SAAA8c,EAAAG,GACA,OAAAA,EAAAH,GAAA9c,IANA8d,EADA,MAWA,IAAAC,EAAAD,EAAAjB,MAGAY,EAAA,IAGAC,EAAA,OAEAM,EAAA5B,EAAA,SAAAvK,GACAA,EAAAmL,QAPA,IAOAvgB,KAAAgC,MAAAoT,EAPA,OAQA,SAAAA,EAAA1R,GACA0R,EAAAmL,SAAAnL,EATA,IASA1R,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAH,GAXA,KAYA,SAAAjL,GACA,OAAAA,EAAAoJ,kBAGAgD,EAAAD,EAAAnB,MAEAqB,EAAA9B,EAAA,SAAAvK,GACAA,EAAAmL,QAAAvgB,KAAAgC,MAAAoT,EAAA4L,GAAAA,IACA,SAAA5L,EAAA1R,GACA0R,EAAAmL,SAAAnL,EAAA1R,EAAAsd,IACA,SAAAX,EAAAG,GACA,OAAAA,EAAAH,GAAAW,GACA,SAAA5L,GACA,OAAAA,EAAAwI,eAGA8D,EAAAD,EAAArB,MAEAuB,EAAAhC,EAAA,SAAAvK,GACA,IAAA+K,EAAA/K,EAAA8I,oBAAA8C,EA7BA,KA8BAb,EAAA,IAAAA,GA9BA,MA+BA/K,EAAAmL,QA/BA,KA+BAvgB,KAAAgC,QAAAoT,EAAA+K,GA/BA,MA+BAA,IACA,SAAA/K,EAAA1R,GACA0R,EAAAmL,SAAAnL,EAjCA,KAiCA1R,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAH,GAnCA,MAoCA,SAAAjL,GACA,OAAAA,EAAA2D,aAGA6I,EAAAD,EAAAvB,MAEA7J,EAAAoJ,EAAA,SAAAvK,GACAA,EAAA2L,SAAA,EAAA,EAAA,EAAA,IACA,SAAA3L,EAAA1R,GACA0R,EAAA0L,QAAA1L,EAAAmI,UAAA7Z,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAH,GAAAG,EAAAtC,oBAAAmC,EAAAnC,qBAAA8C,GA9CA,OA+CA,SAAA5L,GACA,OAAAA,EAAAmI,UAAA,IAGA7D,EAAAnD,EAAA6J,MAaAyB,EAAAhB,EAAA,GACAiB,EAAAjB,EAAA,GACAkB,EAAAlB,EAAA,GACAmB,EAAAnB,EAAA,GACAoB,EAAApB,EAAA,GACAqB,EAAArB,EAAA,GACAsB,EAAAtB,EAAA,GAEAuB,EAAAP,EAAAzB,MACAiC,EAAAP,EAAA1B,MACAkC,EAAAP,EAAA3B,MACAmC,EAAAP,EAAA5B,MACAoC,EAAAP,EAAA7B,MACAqC,EAAAP,EAAA9B,MACAsC,EAAAP,EAAA/B,MAEAuC,EAAAhD,EAAA,SAAAvK,GACAA,EAAA0L,QAAA,GACA1L,EAAA2L,SAAA,EAAA,EAAA,EAAA,IACA,SAAA3L,EAAA1R,GACA0R,EAAAwN,SAAAxN,EAAAsD,WAAAhV,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAA9H,WAAA2H,EAAA3H,WAAA,IAAA8H,EAAAxC,cAAAqC,EAAArC,gBACA,SAAA5I,GACA,OAAAA,EAAAsD,aAGAkB,EAAA+I,EAAAvC,MAEAyC,EAAAlD,EAAA,SAAAvK,GACAA,EAAAwN,SAAA,EAAA,GACAxN,EAAA2L,SAAA,EAAA,EAAA,EAAA,IACA,SAAA3L,EAAA1R,GACA0R,EAAAM,YAAAN,EAAA4I,cAAAta,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAxC,cAAAqC,EAAArC,eACA,SAAA5I,GACA,OAAAA,EAAA4I,gBAIA6E,EAAAlC,MAAA,SAAApd,GACA,OAAAqd,SAAArd,EAAAvD,KAAAgC,MAAAuB,KAAAA,EAAA,EAAAoc,EAAA,SAAAvK,GACAA,EAAAM,YAAA1V,KAAAgC,MAAAoT,EAAA4I,cAAAza,GAAAA,GACA6R,EAAAwN,SAAA,EAAA,GACAxN,EAAA2L,SAAA,EAAA,EAAA,EAAA,IACA,SAAA3L,EAAA1R,GACA0R,EAAAM,YAAAN,EAAA4I,cAAAta,EAAAH,KALA,MASA,IAAAuf,EAAAD,EAAAzC,MAEA2C,EAAApD,EAAA,SAAAvK,GACAA,EAAA4N,cAAA,EAAA,IACA,SAAA5N,EAAA1R,GACA0R,EAAAmL,SAAAnL,EAAA1R,EAAAsd,IACA,SAAAX,EAAAG,GACA,OAAAA,EAAAH,GAAAW,GACA,SAAA5L,GACA,OAAAA,EAAAmJ,kBAGA0E,EAAAF,EAAA3C,MAEA8C,EAAAvD,EAAA,SAAAvK,GACAA,EAAA+N,cAAA,EAAA,EAAA,IACA,SAAA/N,EAAA1R,GACA0R,EAAAmL,SAAAnL,EArIA,KAqIA1R,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAH,GAvIA,MAwIA,SAAAjL,GACA,OAAAA,EAAAkE,gBAGA8J,EAAAF,EAAA9C,MAEAhC,EAAAuB,EAAA,SAAAvK,GACAA,EAAAgM,YAAA,EAAA,EAAA,EAAA,IACA,SAAAhM,EAAA1R,GACA0R,EAAA+L,WAAA/L,EAAA+I,aAAAza,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAAH,GAlJA,OAmJA,SAAAjL,GACA,OAAAA,EAAA+I,aAAA,IAGAkF,EAAAjF,EAAAgC,MAaA3B,EAAAyC,EAAA,GACAxC,EAAAwC,EAAA,GACAoC,EAAApC,EAAA,GACAqC,EAAArC,EAAA,GACAsC,EAAAtC,EAAA,GACAuC,EAAAvC,EAAA,GACAwC,EAAAxC,EAAA,GAEAyC,EAAAlF,EAAA2B,MACAwD,EAAAlF,EAAA0B,MACAyD,EAAAP,EAAAlD,MACA0D,EAAAP,EAAAnD,MACA2D,EAAAP,EAAApD,MACA4D,GAAAP,EAAArD,MACA6D,GAAAP,EAAAtD,MAEA8D,GAAAvE,EAAA,SAAAvK,GACAA,EAAA+L,WAAA,GACA/L,EAAAgM,YAAA,EAAA,EAAA,EAAA,IACA,SAAAhM,EAAA1R,GACA0R,EAAA+O,YAAA/O,EAAA+D,cAAAzV,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAArH,cAAAkH,EAAAlH,cAAA,IAAAqH,EAAA7B,iBAAA0B,EAAA1B,mBACA,SAAAvJ,GACA,OAAAA,EAAA+D,gBAGAiL,GAAAF,GAAA9D,MAEA/B,GAAAsB,EAAA,SAAAvK,GACAA,EAAA+O,YAAA,EAAA,GACA/O,EAAAgM,YAAA,EAAA,EAAA,EAAA,IACA,SAAAhM,EAAA1R,GACA0R,EAAAS,eAAAT,EAAAuJ,iBAAAjb,IACA,SAAA2c,EAAAG,GACA,OAAAA,EAAA7B,iBAAA0B,EAAA1B,kBACA,SAAAvJ,GACA,OAAAA,EAAAuJ,mBAIAN,GAAAsC,MAAA,SAAApd,GACA,OAAAqd,SAAArd,EAAAvD,KAAAgC,MAAAuB,KAAAA,EAAA,EAAAoc,EAAA,SAAAvK,GACAA,EAAAS,eAAA7V,KAAAgC,MAAAoT,EAAAuJ,iBAAApb,GAAAA,GACA6R,EAAA+O,YAAA,EAAA,GACA/O,EAAAgM,YAAA,EAAA,EAAA,EAAA,IACA,SAAAhM,EAAA1R,GACA0R,EAAAS,eAAAT,EAAAuJ,iBAAAjb,EAAAH,KALA,MASA,IAAA8gB,GAAAhG,GAAA+B,MAEA9jB,EAAAgoB,aAAA3E,EACArjB,EAAAioB,gBAAAlD,EACA/kB,EAAAkoB,iBAAAlD,EACAhlB,EAAAmoB,eAAApD,EACA/kB,EAAAooB,gBAAApD,EACAhlB,EAAAqoB,WAAApD,EACAjlB,EAAAsoB,YAAApD,EACAllB,EAAAuoB,UAAAtD,EACAjlB,EAAAwoB,WAAAtD,EACAllB,EAAAyoB,WAAAtD,EACAnlB,EAAA0oB,YAAAtD,EACAplB,EAAA2oB,SAAAtD,EACArlB,EAAA4oB,UAAAtD,EACAtlB,EAAAkhB,QAAAjH,EACAja,EAAA6oB,SAAAzL,EACApd,EAAA8oB,SAAAvD,EACAvlB,EAAA+oB,UAAAjD,EACA9lB,EAAAwhB,WAAA+D,EACAvlB,EAAAgpB,YAAAlD,EACA9lB,EAAAyhB,WAAA+D,EACAxlB,EAAAipB,YAAAlD,EACA/lB,EAAAkpB,YAAAzD,EACAzlB,EAAAmpB,aAAAnD,EACAhmB,EAAAopB,cAAA1D,EACA1lB,EAAAqpB,eAAApD,EACAjmB,EAAAspB,aAAA3D,EACA3lB,EAAAupB,cAAArD,EACAlmB,EAAAwpB,WAAA5D,EACA5lB,EAAAypB,YAAAtD,EACAnmB,EAAA0pB,aAAA7D,EACA7lB,EAAA2pB,cAAAvD,EACApmB,EAAA4pB,UAAAvD,EACArmB,EAAA6pB,WAAAvM,EACAtd,EAAAohB,SAAAmF,EACAvmB,EAAA8pB,UAAAtD,EACAxmB,EAAAymB,UAAAA,EACAzmB,EAAA2mB,WAAAA,EACA3mB,EAAA4mB,QAAAA,EACA5mB,EAAA8mB,SAAAA,EACA9mB,EAAA8hB,OAAAA,EACA9hB,EAAA+mB,QAAAA,EACA/mB,EAAA+pB,QAAA5H,EACAniB,EAAAgqB,SAAA3C,EACArnB,EAAAmiB,UAAAA,EACAniB,EAAAqnB,WAAAA,EACArnB,EAAAoiB,UAAAA,EACApiB,EAAAsnB,WAAAA,EACAtnB,EAAAgnB,WAAAA,EACAhnB,EAAAunB,YAAAA,EACAvnB,EAAAinB,aAAAA,EACAjnB,EAAAwnB,cAAAA,EACAxnB,EAAAknB,YAAAA,EACAlnB,EAAAynB,aAAAA,EACAznB,EAAAmnB,UAAAA,EACAnnB,EAAA0nB,WAAAA,GACA1nB,EAAAonB,YAAAA,EACApnB,EAAA2nB,aAAAA,GACA3nB,EAAA4nB,SAAAA,GACA5nB,EAAA8nB,UAAAA,GACA9nB,EAAA+hB,QAAAA,GACA/hB,EAAA+nB,SAAAA,GAEAvgB,OAAAC,eAAAzH,EAAA,cAAAgE,OAAA,8BCvXA,aAoBA,SAAAimB,EAAAvnB,GACA,GAAAA,EAEA,OADAA,EAAAA,EAAAqE,eAEA,IAAA,IACA,KAAA/G,EAAAkqB,aACA,MAAA,eACA,IAAA,IACA,KAAAlqB,EAAAmqB,SACA,MAAA,WACA,IAAA,IACA,KAAAnqB,EAAAoqB,QACA,MAAA,UACA,IAAA,IACA,KAAApqB,EAAAqqB,QACA,MAAA,WAhCA7iB,OAAAC,eAAAzH,EAAA,cAAAgE,OAAA,IACA,IAAAsmB,GACA,SAAAA,GACAA,EAAAJ,aAAA,eACAI,EAAAF,QAAA,UACAE,EAAAH,SAAA,WACAG,EAAAD,QAAA,WACAC,EAAAtqB,EAAAsqB,OAAAtqB,EAAAsqB,UACAtqB,EAAAkqB,aAAAI,EAAAJ,aACAlqB,EAAAoqB,QAAAE,EAAAF,QACApqB,EAAAmqB,SAAAG,EAAAH,SACAnqB,EAAAqqB,QAAAC,EAAAD,QA2BArqB,EAAAiqB,YAAAA,uCC9BA,SAAAM,EAA6BvmB,EAA+BqC,EAAoBrD,GAC9E,QAAcwnB,IAAVxmB,GAAiC,OAAVA,GAGtBqC,EAIL,OAAQA,GACN,IAAK,OACH,OAAOrD,EAASynB,EAAAlI,WAAWvf,GAAQgB,GAAiB0mB,EAAe1mB,GACrE,IAAK,SACH,OAAOhB,EAAS2nB,EAAA3nB,OAAeA,GAAQgB,GAAmB4mB,EAAiB5mB,GAC7E,IAAK,SACL,QACE,OAAOA,GAQb,SAAA6mB,EAA2B7mB,GACzB,MAAqB,iBAAVA,EACF4mB,EAAiB5mB,GACfA,aAAiB+U,KACnB2R,EAAe1mB,GAEfA,EAUX,SAAA4mB,EAAiC5mB,GAC/B,OAAOA,EAAQ,GAAM,EAAI2mB,EAAA3nB,OAAe,KAAKgB,GAAS2mB,EAAA3nB,OAAe,QAAQgB,GAS/E,SAAA0mB,EAA+B5R,GAC7B,IAAMgS,EAAoBL,EAAAlI,WAAW,OACnCwI,EAAeN,EAAAlI,WAAW,OAC1ByI,EAAeP,EAAAlI,WAAW,SAC1B0I,EAAaR,EAAAlI,WAAW,SACxB2I,EAAYT,EAAAlI,WAAW,SACvB4I,EAAaV,EAAAlI,WAAW,SACxBlG,EAAcoO,EAAAlI,WAAW,MACzB/D,EAAaiM,EAAAlI,WAAW,MAE1B,OAAQ6I,EAAA/C,WAAWvP,GAAQA,EAAOgS,EAC9BM,EAAA3C,WAAW3P,GAAQA,EAAOiS,EACxBK,EAAAzC,SAAS7P,GAAQA,EAAOkS,EACtBI,EAAAlK,QAAQpI,GAAQA,EAAOmS,EACrBG,EAAAxB,UAAU9Q,GAAQA,EAAQsS,EAAAtC,SAAShQ,GAAQA,EAAOoS,EAAYC,EAC5DC,EAAAhK,SAAStI,GAAQA,EAAOuD,EACtBmC,GAAY1F,oDA5E5B,IAAA6R,EAAA1pB,EAAA,aACAmqB,EAAAnqB,EAAA,WACAwpB,EAAAxpB,EAAA,kBASAjB,EAAAuqB,aAAAA,EAuBAvqB,EAAA6qB,WAAAA,EAgBA7qB,EAAA4qB,iBAAAA,EAUA5qB,EAAA0qB,eAAAA,mFC7CA,SAAAW,EAAqBC,EAAgBC,GAGnC,YAHmC,IAAAA,IAAAA,GAAmBC,eAAe,IACrEzH,EAAMuH,EAAQG,EAAYF,KAGxBG,QAAS,WAEPJ,EAAOthB,oBAAoB,yBAC3BshB,EAAOthB,oBAAoB,2BAC3BshB,EAAOthB,oBAAoB,0BAE3B2hB,MAKN,SAAAC,EAAyBN,EAAgBO,EAA8BN,GAIrE,YAJqE,IAAAA,IAAAA,GAAmBC,eAAe,IACvGD,EAAUO,EAAAC,kBAAkBN,EAAYF,GAAUM,GAClD9H,EAAMuH,EAAQC,IAGZG,QAAS,WAEPJ,EAAOthB,oBAAoB,yBAC3BshB,EAAOthB,oBAAoB,2BAC3BshB,EAAOthB,oBAAoB,0BAE3B2hB,MAKN,SAAA5H,EAAeuH,EAAgBC,GAE7BD,EAAOhhB,iBAAiB,wBAAyB,SAAUvB,EAAmBijB,GACxEC,EAAkBD,KAEpBL,IAGAO,EAAiB9rB,OAAO+rB,WAAW,WACjCC,EAAKrjB,EAAOijB,EAAMT,IACjBA,EAAQc,OAASC,EAAAC,UAMxBjB,EAAOhhB,iBAAiB,0BAA2B,SAAUvB,EAAmBijB,GAC1EC,EAAkBD,IAASQ,GAC7BnhB,EAAOtC,EAAOijB,EAAMT,KAKxBD,EAAOhhB,iBAAiB,yBAA0B,SAAUvB,EAAmBijB,GACzEC,EAAkBD,KACpBL,IAEIa,GACFC,EAAM1jB,EAAOijB,EAAMT,MAO3B,SAAAI,IAIEvrB,OAAOssB,aAAaR,GACpBA,OAAiB1B,EAInB,SAAA4B,EAAcrjB,EAAmBijB,EAAkBT,GAEjD,IAAMoB,EAAqBC,EAAAC,wBAGrBC,EAAcC,EAAAC,eAAehB,EAAMT,GACpCuB,GAAsC,IAAvBA,EAAYvrB,SAKhCqrB,EAAAK,SAASN,EAAoBG,GAE7BF,EAAAM,eAAenkB,EAAOwiB,GACtBqB,EAAAO,iBAAiB5B,GACjB6B,EAAAvZ,OAAO,gBAAgB9G,MAAM,aAAc,WAC3Cyf,GAAgB,EAGZjB,EAAQ8B,UACV9B,EAAQ8B,SAAStkB,EAAOijB,IAK5B,SAAA3gB,EAAgBtC,EAAmBijB,EAAkBT,GAC9CU,EAAkBD,KAGvBY,EAAAM,eAAenkB,EAAOwiB,GAGlBA,EAAQ+B,QACV/B,EAAQ+B,OAAOvkB,EAAOijB,IAK1B,SAAAS,EAAe1jB,EAAmBijB,EAAkBT,GAC7CU,EAAkBD,KAKvBoB,EAAAvZ,OAAO,gBAAgB9G,MAAM,aAAc,UAE3Cyf,GAAgB,EAChBI,EAAAW,YACAX,EAAAY,kBACAZ,EAAAa,gBAGIlC,EAAQmC,aACVnC,EAAQmC,YAAY3kB,EAAOijB,IAK/B,SAAAC,EAA2BD,GAEzB,SAAKA,IAASA,EAAKhhB,SAIfghB,EAAKhhB,MAAM2iB,SAUjB,SAAAlC,EAAqBF,GACnB,IAAMqC,KACN,IAAK,IAAMpK,KAAS+H,EACdA,EAAQlhB,eAAemZ,KACzBoK,EAAWpK,GAAS+H,EAAQ/H,IAGhC,OAAOoK,mDA3KT,IAAAR,EAAAnsB,EAAA,gBAEAqrB,EAAArrB,EAAA,aACA8rB,EAAA9rB,EAAA,iBACA6qB,EAAA7qB,EAAA,qBACA2rB,EAAA3rB,EAAA,oBAEIirB,OAAyB1B,EACzBgC,GAAgB,EAOpBxsB,EAAAqrB,KAAAA,EAeArrB,EAAA4rB,SAAAA,qLCsBa5rB,EAAAusB,MAAQ,yCC5CrB,SAAAS,EAA+BhB,EAAkBT,GAE/C,GAA2B,UAAvBS,EAAK6B,KAAKC,SAAd,CAKA,IACMC,KACN,IAAK,IAAMvK,KAASwI,EAAKhhB,MACnBghB,EAAKhhB,MAAMX,eAAemZ,KAC5BuK,EAASvK,GAASwI,EAAKhhB,MAAMwY,IAwBjC,OAfAwK,EAAaD,GAJX,MAAO,QAAS,QAAS,SACzB,cAAe,YACf,eAAgB,aAAc,aAAc,cAAe,WAAY,aAKzEE,EAA0BF,EAAUxC,EAAQ2C,QAG5CC,EAAiBJ,EAAUxC,EAAQ2C,QAGnCE,EAAsBpC,EAAK6B,KAAKC,SAAUC,IACZ,IAA1BxC,EAAQC,cACI6C,EAAqBN,EAAUxC,GAE/B+C,EAAwBP,EAAUxC,IAapD,SAAA+C,EAAwCP,EAA0BxC,GAChE,IAAMuB,KAmBN,OAjBAvB,EAAQ2C,OAAOK,QAAQ,SAAUC,GAE/B,IAAMC,EAAQD,EAAYC,MAAQD,EAAYC,MAAQD,EAAYhL,MAG5Dxf,EAAQ0qB,EAASX,EAAUS,EAAYhL,OAC7C,QAAcgH,IAAVxmB,EAAJ,CAKA,IAAM2qB,EAAiBC,EAAArE,aAAavmB,EAAOwqB,EAAYnoB,WAAYmoB,EAAYxrB,SAAW4rB,EAAA/D,WAAW7mB,GAGrG8oB,EAAY1oB,MAAMqqB,MAAOA,EAAOzqB,MAAO2qB,OAGlC7B,EAWT,SAAA4B,EAAyBX,EAA0BvK,GACjD,IAAIxf,EAEE6qB,EAAsBrL,EAAM/Z,MAAM,KAGlCqlB,EAAwBD,EAAU,GAcxC,OAbAA,EAAUE,QACNhB,EAASe,KACX9qB,EAAQ+pB,EAASe,GAGjBD,EAAUN,QAAQ,SAAUvtB,IAC1BgD,EAAQA,GACEhD,KACRgD,EAAQA,EAAMhD,YAKNwpB,IAAVxmB,OACFgrB,QAAQC,KAAK,+BAAiCzL,EAAQ,aAG/Cxf,EAiBX,SAAAqqB,EAAqCN,EAA0BxC,GAC7D,IAAMuB,KAGAoC,KACN,GAAI3D,GAAWA,EAAQ2C,OACrB,IAA0B,IAAAiB,EAAA,EAAAC,EAAA7D,EAAQ2C,OAARiB,EAAAC,EAAA7tB,OAAA4tB,IAAc,CAAnC,IAAME,EAAWD,EAAAD,GACpBD,EAAaG,EAAY7L,OAAS6L,EAItC,IAAK,IAAM7L,KAASuK,EAClB,GAAIA,EAAS1jB,eAAemZ,GAAQ,CAClC,IAAMxf,EAAQ+pB,EAASvK,GACnBiL,OAAK,EAEPA,EADES,EAAa1L,IAAU0L,EAAa1L,GAAOiL,MACrCS,EAAa1L,GAAOiL,MAEpBjL,EAGV,IAAInd,OAAU,EACVrD,OAAM,EAENksB,EAAa1L,KACfnd,EAAa6oB,EAAa1L,GAAOnd,WACjCrD,EAASksB,EAAa1L,GAAOxgB,QAE/B,IAAM2rB,EAAiBC,EAAArE,aAAavmB,EAAOqC,EAAYrD,IAAW4rB,EAAA/D,WAAW7mB,GAG7E8oB,EAAY1oB,MAAMqqB,MAAOA,EAAOzqB,MAAO2qB,IAG3C,OAAO7B,EAWT,SAAAkB,EAA6BsB,EAAyBC,GACpDA,EAAWhB,QAAQ,SAAU3iB,UACpB0jB,EAAQ1jB,KASnB,SAAAqiB,EAA0CF,EAA0ByB,GAC7DA,GAILA,EAAUjB,QAAQ,SAAUkB,GACtBA,EAASC,6BACX1B,EAAaD,GAAW0B,EAASC,gCAavC,SAAAvB,EAAiCJ,EAA0BmB,GACzD,GAAKA,EA4BL,OAxBAA,EAAaX,QAAQ,SAAUC,GAC7B,IAAwB,IAApBA,EAAYmB,IAAc,CAE5B,IAAMC,EAAgBpB,EAAYhL,MAC5BqM,EAAgBD,EAAcE,OAAO,UACrCC,EAAcH,EAAcE,OAAO,QACnCE,EAAcJ,EAAcE,OAAO,QAInCG,EAAalC,EAAS8B,GACtBK,EAAWnC,EAASiC,GAC1B,QAAoBxF,IAAfyF,QAA2CzF,IAAb0F,EAAyB,CAC1D,IAAMpM,EAAQmM,EAAa,IAAMC,EACjCnC,EAAS6B,GAAiB9L,EAI5B,IAAMqM,KACNA,EAAc/rB,KAAKyrB,EAAeE,EAAaC,GAC/ChC,EAAaD,EAAUoC,MAIpBpC,EAcT,SAAAK,EAAsCN,EAAkBC,GACtD,GAAiB,SAAbD,GAAoC,SAAbA,EAAqB,CAC9C,IAAMsC,KACN,IAAK,IAAMxkB,KAAOmiB,EACZA,EAAS1jB,eAAeuB,IACZmiB,EAASniB,aACFmN,MACnBqX,EAAShsB,KAAKwH,GAIpBoiB,EAAaD,EAAUqC,qDAhQ3B,IAAAxB,EAAA3tB,EAAA,sBAQAjB,EAAAgtB,eAAAA,EA8CAhtB,EAAAsuB,wBAAAA,EA+BAtuB,EAAA0uB,SAAAA,EAyCA1uB,EAAAquB,qBAAAA,EA6CAruB,EAAAguB,aAAAA,EAWAhuB,EAAAiuB,0BAAAA,EAoBAjuB,EAAAmuB,iBAAAA,EA2CAnuB,EAAAouB,sBAAAA,2EC3NA,SAAArC,EAAkCR,EAAiBM,GAEjD,IAAMwE,KA6BN,OA1B8B,IAA1B9E,EAAQC,cACV8E,EAAGC,KAAKC,UAAU3E,GAAQ0C,QAAQ,SAAUkC,GAE1C,IAGMC,EAA0BC,EAHZC,EAAerF,EAAQ2C,OAAQuC,GAGgBA,EAAU5E,GAE7EwE,EAAmBjsB,KAAKssB,KAGtBnF,EAAQ2C,QACV3C,EAAQ2C,OAAOK,QAAQ,SAAUC,GAE/B,IAGMkC,EAA0BC,EAAsBnC,EAHrCqC,EAAYP,EAAGC,KAAKC,UAAU3E,GAA+B2C,GAGD3C,GAE7EwE,EAAmBjsB,KAAKssB,KAK9BnF,EAAQ2C,OAASmC,EAEV9E,EAcT,SAAAqF,EAA+B1B,EAA6BuB,GAC1D,GAAKA,GAAavB,KAAgBA,EAAa3tB,QAAU,GAKzD,GAAIkvB,EAASK,UAAb,CAEE,IAAmB,IAAA3B,EAAA,EAAA4B,EAAA7B,EAAAC,EAAA4B,EAAAxvB,OAAA4tB,IACjB,IADSnD,EAAI+E,EAAA5B,IACJ3L,QAAUiN,EAASjN,OAASwI,EAAK8E,YAAcL,EAASK,UAC/D,OAAO9E,EAKX,IAAmB,IAAAoD,EAAA,EAAA4B,EAAA9B,EAAAE,EAAA4B,EAAAzvB,OAAA6tB,IACjB,IADSpD,EAAIgF,EAAA5B,IACJ5L,QAAUiN,EAASjN,QAAUwI,EAAK8E,UACzC,OAAO9E,OAOX,IAAmB,IAAAiF,EAAA,EAAAC,EAAAhC,EAAA+B,EAAAC,EAAA3vB,OAAA0vB,IAAY,CAA1B,IAAMjF,EAAIkF,EAAAD,GACb,GAAIjF,EAAKxI,QAAUiN,EAASjN,MAC1B,OAAOwI,GAmBf,SAAA6E,EAA4BL,EAA+BhC,GACzD,GAAKA,GAAgBA,EAAYhL,OAAUgN,EAK3C,IAAmB,IAAArB,EAAA,EAAAgC,EAAAX,EAAArB,EAAAgC,EAAA5vB,OAAA4tB,IAAS,CAAvB,IAAMnD,EAAImF,EAAAhC,GACb,GAAInD,EAAKxI,QAAUgL,EAAYhL,MAAO,CACpC,IAAIwI,EAAK8E,UAKP,OAAO9E,EAJP,GAAIA,EAAK8E,YAActC,EAAYsC,YAActC,EAAYsC,UAC3D,OAAO9E,IAmBjB,SAAA2E,EAAsCnC,EAA0BiC,EAA4B5E,GAE1F,IAAMuF,EAAMC,KAAOxF,EAAOuF,QAG1B,CAAA,GAAK5C,GAAgBiC,EAArB,EAMKjC,GAAeiC,IAClBjC,MAEEA,IAAgBiC,IAClBA,MAIF,IAAMC,KAiBN,GAVAA,EAAwBlN,MAAQiN,EAASjN,MACvC8M,EAAGG,SAASjN,MAAMiN,GAAYjC,EAAYhL,MASxCiN,EAAS/tB,OAAS4uB,EAAAnH,UAAYsG,EAASc,SAAU,CAEnD,IAAMC,EAAwBf,EAASjN,MACvCkN,EAAwBhB,4BAA8B8B,EAItD,IAAoB,IAAArC,EAAA,EAAAsC,EADFnB,EAAGC,KAAKC,UAAU3E,GAChBsD,EAAAsC,EAAAlwB,OAAA4tB,IAAS,CAAxB,IAAMuC,EAAKD,EAAAtC,GACd,GAAIuC,EAAMlO,QAAUgO,IAA0BE,EAAMH,SAAU,CAC5Db,EAAwBhB,iCAA8BlF,EACtD,QAiBN,GAXK4G,EAAOO,aACVP,EAAOO,WAAarB,EAAGc,OAAOQ,cAAcD,YAE9CjB,EAAwBjC,MAAQD,EAAYC,MAC1CD,EAAYC,MAAQ6B,EAAGG,SAAShC,MAAMgC,EAAUW,GAGlDV,EAAwBrqB,WAAamoB,EAAYnoB,WAC/CmoB,EAAYnoB,WAAawrB,EAAcpB,EAAS/tB,MAG9C8rB,EAAYxrB,OACd0tB,EAAwB1tB,OAASwrB,EAAYxrB,YAE7C,OAAQ0tB,EAAwBrqB,YAC9B,IAAK,OACHqqB,EAAwB1tB,OAASytB,EAASc,SAExCjB,EAAGiB,SAASO,iBAAiBrB,EAASc,SAAU,IAAI,GAAO,GAAO9nB,MAAM,KAAK,GAC3E2nB,EAAO7O,YAAc+N,EAAGc,OAAOQ,cAAcrP,WACjD,MACF,IAAK,SACHmO,EAAwB1tB,OAASouB,EAAOW,aAc9C,OANItB,EAASd,MACXe,EAAwBlN,MAAQkN,EAAwBlN,MAAM9e,QAAQ,SAAU,UAChFgsB,EAAwBf,KAAM,EAC9Be,EAAwBrqB,WAAa,UAGhCqqB,EAlFL1B,QAAQgD,MAAM,gUAvJlB,IAAA1B,EAAA,oBAAAlwB,OAAgCA,OAAA,QAAA,IAAAC,EAAAA,EAAA,GAAA,KAGhCixB,EAAArwB,EAAA,4BAIM4wB,GACJI,aAAgB,SAChBC,SAAY,OACZC,aAAW3H,EACX4H,aAAW5H,GAebxqB,EAAA+rB,kBAAAA,EA6CA/rB,EAAA4wB,eAAAA,EA6CA5wB,EAAA6wB,YAAAA,EA6BA7wB,EAAA2wB,sBAAAA,sLCzIA,SAAA9D,IAWE,OARIO,EAAAvZ,OAAO,gBAAgBhJ,QACJuiB,EAAAvZ,OAAO,QAAQwE,OAAO,OACxCJ,KAAK,KAAM,eACXA,KAAK,QAAS,cAEImV,EAAAvZ,OAAO,gBAShC,SAAAoZ,EAAyBN,EAAiGG,GACxHH,EAAmB5U,UAAU,SAASvJ,SACtC,IAAM6jB,EAAc1F,EAAmBtU,OAAO,SAASN,UAAU,gBAC9DxM,KAAKuhB,GAERuF,EAAY/mB,OAAOkD,SAEnB,IAAM8jB,EAAMD,EAAYjnB,QAAQiN,OAAO,MACpCJ,KAAK,QAAS,eACjBqa,EAAIja,OAAO,MAAMJ,KAAK,QAAS,OAAOE,KAAK,SAAUvT,GAAkB,OAAOA,EAAE6pB,MAAQ,MACxF6D,EAAIja,OAAO,MAAMJ,KAAK,QAAS,SAASE,KAAK,SAAUvT,GAAkB,OAAOA,EAAEZ,QAMpF,SAAAupB,IACEH,EAAAvZ,OAAO,gBAAgBkE,UAAU,gBAAgBxM,SAC9CD,OAAOkD,SAQZ,SAAA0e,EAA+BnkB,EAAmBwiB,GAEhD,IAAIgH,EAAU,GACVC,EAAU,GACVjH,GAAWA,EAAQ1H,aAAgC2G,IAArBe,EAAQ1H,OAAOzgB,GAA0C,OAArBmoB,EAAQ1H,OAAOzgB,IACnFmvB,EAAUhH,EAAQ1H,OAAOzgB,GAEvBmoB,GAAWA,EAAQ1H,aAAgC2G,IAArBe,EAAQ1H,OAAO/Q,GAA0C,OAArByY,EAAQ1H,OAAO/Q,IACnF0f,EAAUjH,EAAQ1H,OAAO/Q,GAI3Bsa,EAAAvZ,OAAO,gBACJ9G,MAAM,MAAO,WAGZ,IAAM0lB,EAAgBlyB,KAAK6S,wBAAwBsf,OACnD,OAAI3pB,EAAMgK,QAAU0f,EAAgBD,EAAUpyB,OAAOuyB,YACtC5pB,EAAMgK,QAAUyf,EAAW,KAE3BzpB,EAAMgK,QAAU0f,EAAgBD,EAAW,OAG3DzlB,MAAM,OAAQ,WAGb,IAAM6lB,EAAeryB,KAAK6S,wBAAwB9Q,MAClD,OAAIyG,EAAM8J,QAAU+f,EAAeL,EAAUnyB,OAAOyyB,WACrC9pB,EAAM8J,QAAU0f,EAAW,KAE3BxpB,EAAM8J,QAAU+f,EAAeL,EAAW,OAM/D,SAAA9E,IACEL,EAAAvZ,OAAO,gBACJ9G,MAAM,MAAO,WACbA,MAAM,OAAQ,WASnB,SAAAogB,EAAiC5B,GAC/BiC,IAEIjC,GAAkC,SAAvBA,EAAQuH,WACrB1F,EAAAvZ,OAAO,gBAAgBqE,QAAQ,cAAc,GAE7CkV,EAAAvZ,OAAO,gBAAgBqE,QAAQ,eAAe,GAKlD,SAAAsV,IACEJ,EAAAvZ,OAAO,gBAAgBqE,QAAQ,0BAA0B,oDA/G3D,IAAAkV,EAAAnsB,EAAA,gBAQAjB,EAAA6sB,sBAAAA,EAiBA7sB,EAAAitB,SAAAA,EAgBAjtB,EAAAutB,UAAAA,EAUAvtB,EAAAktB,eAAAA,EAoCAltB,EAAAytB,cAAAA,EAYAztB,EAAAmtB,iBAAAA,EAWAntB,EAAAwtB,gBAAAA","file":"build/vega-tooltip.min.js.map","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// https://d3js.org/d3-format/ Version 1.2.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nvar formatDecimal = function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n};\n\nvar exponent = function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n};\n\nvar formatGroup = function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n};\n\nvar formatNumerals = function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n};\n\nvar formatDefault = function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n};\n\nvar prefixExponent;\n\nvar formatPrefixAuto = function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n};\n\nvar formatRounded = function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n};\n\nvar formatTypes = {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n\nvar identity = function(x) {\n  return x;\n};\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nvar formatLocale = function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n};\n\nvar locale;\n\n\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  exports.format = locale.format;\n  exports.formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nvar precisionFixed = function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n};\n\nvar precisionPrefix = function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n};\n\nvar precisionRound = function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n};\n\nexports.formatDefaultLocale = defaultLocale;\nexports.formatLocale = formatLocale;\nexports.formatSpecifier = formatSpecifier;\nexports.precisionFixed = precisionFixed;\nexports.precisionPrefix = precisionPrefix;\nexports.precisionRound = precisionRound;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-selection/ Version 1.1.0. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\n\nvar namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nvar namespace = function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n};\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nvar creator = function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n};\n\nvar nextId = 0;\n\nfunction local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nvar matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nvar matcher$1 = matcher;\n\nvar filterEvents = {};\n\nexports.event = null;\n\nif (typeof document !== \"undefined\") {\n  var element$1 = document.documentElement;\n  if (!(\"onmouseenter\" in element$1)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = exports.event; // Events can be reentrant (e.g., focus).\n    exports.event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      exports.event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nvar selection_on = function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n};\n\nfunction customEvent(event1, listener, that, args) {\n  var event0 = exports.event;\n  event1.sourceEvent = exports.event;\n  exports.event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    exports.event = event0;\n  }\n}\n\nvar sourceEvent = function() {\n  var current = exports.event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n};\n\nvar point = function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n};\n\nvar mouse = function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n};\n\nfunction none() {}\n\nvar selector = function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n};\n\nvar selection_select = function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n};\n\nfunction empty() {\n  return [];\n}\n\nvar selectorAll = function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n};\n\nvar selection_selectAll = function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n};\n\nvar selection_filter = function(match) {\n  if (typeof match !== \"function\") match = matcher$1(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n};\n\nvar sparse = function(update) {\n  return new Array(update.length);\n};\n\nvar selection_enter = function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n};\n\nfunction EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nvar selection_data = function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n};\n\nvar selection_exit = function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n};\n\nvar selection_merge = function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n};\n\nvar selection_order = function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n};\n\nvar selection_sort = function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n};\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nvar selection_call = function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n};\n\nvar selection_nodes = function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n};\n\nvar selection_node = function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n};\n\nvar selection_size = function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n};\n\nvar selection_empty = function() {\n  return !this.node();\n};\n\nvar selection_each = function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n};\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nvar selection_attr = function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n};\n\nvar defaultView = function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n};\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nvar selection_style = function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n};\n\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nvar selection_property = function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n};\n\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nvar selection_classed = function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n};\n\nfunction textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nvar selection_text = function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n};\n\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nvar selection_html = function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n};\n\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nvar selection_raise = function() {\n  return this.each(raise);\n};\n\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nvar selection_lower = function() {\n  return this.each(lower);\n};\n\nvar selection_append = function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n};\n\nfunction constantNull() {\n  return null;\n}\n\nvar selection_insert = function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n};\n\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nvar selection_remove = function() {\n  return this.each(remove);\n};\n\nvar selection_datum = function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n};\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nvar selection_dispatch = function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n};\n\nvar root = [null];\n\nfunction Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nvar select = function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n};\n\nvar selectAll = function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n};\n\nvar touch = function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n};\n\nvar touches = function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n};\n\nexports.creator = creator;\nexports.local = local;\nexports.matcher = matcher$1;\nexports.mouse = mouse;\nexports.namespace = namespace;\nexports.namespaces = namespaces;\nexports.select = select;\nexports.selectAll = selectAll;\nexports.selection = selection;\nexports.selector = selector;\nexports.selectorAll = selectorAll;\nexports.style = styleValue;\nexports.touch = touch;\nexports.touches = touches;\nexports.window = defaultView;\nexports.customEvent = customEvent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-time-format/ Version 2.0.5. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-time')) :\n\ttypeof define === 'function' && define.amd ? define(['exports', 'd3-time'], factory) :\n\t(factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Time) { 'use strict';\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"};\nvar numberRe = /^\\s*\\d+/;\nvar percentRe = /^%/;\nvar requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + d3Time.timeDay.count(d3Time.timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(d3Time.timeSunday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(d3Time.timeMonday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + d3Time.utcDay.count(d3Time.utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(d3Time.utcSunday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(d3Time.utcMonday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nvar locale$1;\n\n\n\n\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale$1 = formatLocale(definition);\n  exports.timeFormat = locale$1.format;\n  exports.timeParse = locale$1.parse;\n  exports.utcFormat = locale$1.utcFormat;\n  exports.utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : exports.utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : exports.utcParse(isoSpecifier);\n\nexports.timeFormatDefaultLocale = defaultLocale;\nexports.timeFormatLocale = formatLocale;\nexports.isoFormat = formatIso;\nexports.isoParse = parseIso;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-time/ Version 1.0.6. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar t0 = new Date;\nvar t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar milliseconds = millisecond.range;\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nvar seconds = second.range;\n\nvar minute = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nvar minutes = minute.range;\n\nvar hour = newInterval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nvar hours = hour.range;\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nvar days = day.range;\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar sundays = sunday.range;\nvar mondays = monday.range;\nvar tuesdays = tuesday.range;\nvar wednesdays = wednesday.range;\nvar thursdays = thursday.range;\nvar fridays = friday.range;\nvar saturdays = saturday.range;\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nvar months = month.range;\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar years = year.range;\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nvar utcMinutes = utcMinute.range;\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nvar utcHours = utcHour.range;\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nvar utcDays = utcDay.range;\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcSundays = utcSunday.range;\nvar utcMondays = utcMonday.range;\nvar utcTuesdays = utcTuesday.range;\nvar utcWednesdays = utcWednesday.range;\nvar utcThursdays = utcThursday.range;\nvar utcFridays = utcFriday.range;\nvar utcSaturdays = utcSaturday.range;\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nvar utcMonths = utcMonth.range;\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nvar utcYears = utcYear.range;\n\nexports.timeInterval = newInterval;\nexports.timeMillisecond = millisecond;\nexports.timeMilliseconds = milliseconds;\nexports.utcMillisecond = millisecond;\nexports.utcMilliseconds = milliseconds;\nexports.timeSecond = second;\nexports.timeSeconds = seconds;\nexports.utcSecond = second;\nexports.utcSeconds = seconds;\nexports.timeMinute = minute;\nexports.timeMinutes = minutes;\nexports.timeHour = hour;\nexports.timeHours = hours;\nexports.timeDay = day;\nexports.timeDays = days;\nexports.timeWeek = sunday;\nexports.timeWeeks = sundays;\nexports.timeSunday = sunday;\nexports.timeSundays = sundays;\nexports.timeMonday = monday;\nexports.timeMondays = mondays;\nexports.timeTuesday = tuesday;\nexports.timeTuesdays = tuesdays;\nexports.timeWednesday = wednesday;\nexports.timeWednesdays = wednesdays;\nexports.timeThursday = thursday;\nexports.timeThursdays = thursdays;\nexports.timeFriday = friday;\nexports.timeFridays = fridays;\nexports.timeSaturday = saturday;\nexports.timeSaturdays = saturdays;\nexports.timeMonth = month;\nexports.timeMonths = months;\nexports.timeYear = year;\nexports.timeYears = years;\nexports.utcMinute = utcMinute;\nexports.utcMinutes = utcMinutes;\nexports.utcHour = utcHour;\nexports.utcHours = utcHours;\nexports.utcDay = utcDay;\nexports.utcDays = utcDays;\nexports.utcWeek = utcSunday;\nexports.utcWeeks = utcSundays;\nexports.utcSunday = utcSunday;\nexports.utcSundays = utcSundays;\nexports.utcMonday = utcMonday;\nexports.utcMondays = utcMondays;\nexports.utcTuesday = utcTuesday;\nexports.utcTuesdays = utcTuesdays;\nexports.utcWednesday = utcWednesday;\nexports.utcWednesdays = utcWednesdays;\nexports.utcThursday = utcThursday;\nexports.utcThursdays = utcThursdays;\nexports.utcFriday = utcFriday;\nexports.utcFridays = utcFridays;\nexports.utcSaturday = utcSaturday;\nexports.utcSaturdays = utcSaturdays;\nexports.utcMonth = utcMonth;\nexports.utcMonths = utcMonths;\nexports.utcYear = utcYear;\nexports.utcYears = utcYears;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","\"use strict\";\n/** Constants and utilities for data type */\n/** Data type based on level of measurement */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Type;\n(function (Type) {\n    Type.QUANTITATIVE = 'quantitative';\n    Type.ORDINAL = 'ordinal';\n    Type.TEMPORAL = 'temporal';\n    Type.NOMINAL = 'nominal';\n})(Type = exports.Type || (exports.Type = {}));\nexports.QUANTITATIVE = Type.QUANTITATIVE;\nexports.ORDINAL = Type.ORDINAL;\nexports.TEMPORAL = Type.TEMPORAL;\nexports.NOMINAL = Type.NOMINAL;\n/**\n * Get full, lowercase type name for a given type.\n * @param  type\n * @return Full type name.\n */\nfunction getFullName(type) {\n    if (type) {\n        type = type.toLowerCase();\n        switch (type) {\n            case 'q':\n            case exports.QUANTITATIVE:\n                return 'quantitative';\n            case 't':\n            case exports.TEMPORAL:\n                return 'temporal';\n            case 'o':\n            case exports.ORDINAL:\n                return 'ordinal';\n            case 'n':\n            case exports.NOMINAL:\n                return 'nominal';\n        }\n    }\n    // If we get invalid input, return undefined type.\n    return undefined;\n}\nexports.getFullName = getFullName;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90eXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0Q0FBNEM7QUFDNUMsOENBQThDOztBQUU5QyxJQUFpQixJQUFJLENBS3BCO0FBTEQsV0FBaUIsSUFBSTtJQUNOLGlCQUFZLEdBQW1CLGNBQWMsQ0FBQztJQUM5QyxZQUFPLEdBQWMsU0FBUyxDQUFDO0lBQy9CLGFBQVEsR0FBZSxVQUFVLENBQUM7SUFDbEMsWUFBTyxHQUFjLFNBQVMsQ0FBQztBQUM5QyxDQUFDLEVBTGdCLElBQUksR0FBSixZQUFJLEtBQUosWUFBSSxRQUtwQjtBQUdZLFFBQUEsWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7QUFDakMsUUFBQSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztBQUN2QixRQUFBLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0FBQ3pCLFFBQUEsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7QUFFcEM7Ozs7R0FJRztBQUNILHFCQUE0QixJQUFpQjtJQUMzQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ1QsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUMxQixNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2IsS0FBSyxHQUFHLENBQUM7WUFDVCxLQUFLLG9CQUFZO2dCQUNmLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEIsS0FBSyxHQUFHLENBQUM7WUFDVCxLQUFLLGdCQUFRO2dCQUNYLE1BQU0sQ0FBQyxVQUFVLENBQUM7WUFDcEIsS0FBSyxHQUFHLENBQUM7WUFDVCxLQUFLLGVBQU87Z0JBQ1YsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUNuQixLQUFLLEdBQUcsQ0FBQztZQUNULEtBQUssZUFBTztnQkFDVixNQUFNLENBQUMsU0FBUyxDQUFDO1FBQ3JCLENBQUM7SUFDSCxDQUFDO0lBQ0Qsa0RBQWtEO0lBQ2xELE1BQU0sQ0FBQyxTQUFTLENBQUM7QUFDbkIsQ0FBQztBQXBCRCxrQ0FvQkMifQ==","import {format as d3NumberFormat} from 'd3-format';\nimport {timeDay, timeHour, timeMinute, timeMonth, timeSecond, timeWeek, timeYear} from 'd3-time';\nimport {timeFormat} from 'd3-time-format';\n\n/**\n * Format value using formatType and format\n * @param value - a field value to be formatted\n * @param formatType - the formatType can be: \"time\", \"number\", or \"string\"\n * @param format - a time time format specifier, or a time number format specifier, or undefined\n * @return the formatted value, or undefined if value or formatType is missing\n */\nexport function customFormat(value: number | string | Date, formatType: string, format: string): string {\n  if (value === undefined || value === null) {\n    return undefined;\n  }\n  if (!formatType) {\n    return undefined;\n  }\n\n  switch (formatType) {\n    case 'time':\n      return format ? timeFormat(format)(value as Date) : autoTimeFormat(value as Date);\n    case 'number':\n      return format ? d3NumberFormat(format)(value as number) : autoNumberFormat(value as number);\n    case 'string':\n    default:\n      return value as string;\n  }\n}\n\n/**\n * Automatically format a time, number or string value\n * @return the formatted time, number or string value\n */\nexport function autoFormat(value: string | number | Date): string {\n  if (typeof value === 'number') {\n    return autoNumberFormat(value);\n  } else if (value instanceof Date) {\n    return autoTimeFormat(value);\n  } else {\n    return value;\n  }\n}\n\n/**\n * Automatically format a number based on its decimal.\n * @param value number to be formatted\n * @return If it's a decimal number, return a fixed two points precision.\n * If it's a whole number, return the original value without any format.\n */\nexport function autoNumberFormat(value: number) {\n  return value % 1 === 0 ? d3NumberFormat(',')(value) : d3NumberFormat(',.2f')(value);\n}\n\n/**\n * Automatically format a time based on its date.\n * @param date object to be formatted\n * @return a formatted time string depending on the time. For example,\n * the start of February is formatted as \"February\", while February second is formatted as \"Feb 2\".\n */\nexport function autoTimeFormat(date: Date) {\n  const formatMillisecond = timeFormat('.%L'),\n    formatSecond = timeFormat(':%S'),\n    formatMinute = timeFormat('%I:%M'),\n    formatHour = timeFormat('%I %p'),\n    formatDay = timeFormat('%a %d'),\n    formatWeek = timeFormat('%b %d'),\n    formatMonth = timeFormat('%B'),\n    formatYear = timeFormat('%Y');\n\n  return (timeSecond(date) < date ? formatMillisecond\n    : timeMinute(date) < date ? formatSecond\n      : timeHour(date) < date ? formatMinute\n        : timeDay(date) < date ? formatHour\n          : timeMonth(date) < date ? (timeWeek(date) < date ? formatDay : formatWeek)\n            : timeYear(date) < date ? formatMonth\n              : formatYear)(date);\n}\n","import {select} from 'd3-selection';\nimport {TopLevelExtendedSpec} from 'vega-lite/build/src/spec';\nimport {DELAY, Option, Scenegraph, VgView} from './options';\nimport {getTooltipData} from './parseOption';\nimport {supplementOptions} from './supplementField';\nimport {bindData, clearColorTheme, clearData, clearPosition, getTooltipPlaceholder, updateColorTheme, updatePosition} from './tooltipDisplay';\n\nlet tooltipPromise: number = undefined;\nlet tooltipActive = false;\n\n/**\n * Export API for Vega visualizations: vg.tooltip(vgView, options)\n * options can specify whether to show all fields or to show only custom fields\n * It can also provide custom title and format for fields\n */\nexport function vega(vgView: VgView, options: Option = {showAllFields: true}) {\n  start(vgView, copyOptions(options));\n\n  return {\n    destroy: function () {\n      // remove event listeners\n      vgView.removeEventListener('mouseover.tooltipInit');\n      vgView.removeEventListener('mousemove.tooltipUpdate');\n      vgView.removeEventListener('mouseout.tooltipRemove');\n\n      cancelPromise(); // clear tooltip promise\n    }\n  };\n}\n\nexport function vegaLite(vgView: VgView, vlSpec: TopLevelExtendedSpec, options: Option = {showAllFields: true}) {\n  options = supplementOptions(copyOptions(options), vlSpec);\n  start(vgView, options);\n\n  return {\n    destroy: function () {\n      // remove event listeners\n      vgView.removeEventListener('mouseover.tooltipInit');\n      vgView.removeEventListener('mousemove.tooltipUpdate');\n      vgView.removeEventListener('mouseout.tooltipRemove');\n\n      cancelPromise(); // clear tooltip promise\n    }\n  };\n}\n\nfunction start(vgView: VgView, options: Option) {\n  // initialize tooltip with item data and options on mouse over\n  vgView.addEventListener('mouseover.tooltipInit', function (event: MouseEvent, item: Scenegraph) {\n    if (shouldShowTooltip(item)) {\n      // clear existing promise because mouse can only point at one thing at a time\n      cancelPromise();\n\n      // make a new promise with time delay for tooltip\n      tooltipPromise = window.setTimeout(function () {\n        init(event, item, options);\n      }, options.delay || DELAY);\n    }\n  });\n\n  // update tooltip position on mouse move\n  // (important for large marks e.g. bars)\n  vgView.addEventListener('mousemove.tooltipUpdate', function (event: MouseEvent, item: Scenegraph) {\n    if (shouldShowTooltip(item) && tooltipActive) {\n      update(event, item, options);\n    }\n  });\n\n  // clear tooltip on mouse out\n  vgView.addEventListener('mouseout.tooltipRemove', function (event: MouseEvent, item: Scenegraph) {\n    if (shouldShowTooltip(item)) {\n      cancelPromise();\n\n      if (tooltipActive) {\n        clear(event, item, options);\n      }\n    }\n  });\n}\n\n/* Cancel tooltip promise */\nfunction cancelPromise() {\n  /* We don't check if tooltipPromise is valid because passing\n   an invalid ID to clearTimeout does not have any effect\n   (and doesn't throw an exception). */\n  window.clearTimeout(tooltipPromise);\n  tooltipPromise = undefined;\n}\n\n/* Initialize tooltip with data */\nfunction init(event: MouseEvent, item: Scenegraph, options: Option): void {\n  // get tooltip HTML placeholder\n  const tooltipPlaceholder = getTooltipPlaceholder();\n\n  // prepare data for tooltip\n  const tooltipData = getTooltipData(item, options);\n  if (!tooltipData || tooltipData.length === 0) {\n    return undefined;\n  }\n\n  // bind data to tooltip HTML placeholder\n  bindData(tooltipPlaceholder, tooltipData);\n\n  updatePosition(event, options);\n  updateColorTheme(options);\n  select('#vis-tooltip').style('visibility', 'visible');\n  tooltipActive = true;\n\n  // invoke user-provided callback\n  if (options.onAppear) {\n    options.onAppear(event, item);\n  }\n}\n\n/* Update tooltip position on mousemove */\nfunction update(event: MouseEvent, item: Scenegraph, options: Option): void {\n  if (!shouldShowTooltip(item)) {\n    return undefined;\n  }\n  updatePosition(event, options);\n\n  // invoke user-provided callback\n  if (options.onMove) {\n    options.onMove(event, item);\n  }\n}\n\n/* Clear tooltip */\nfunction clear(event: MouseEvent, item: Scenegraph, options: Option): void {\n  if (!shouldShowTooltip(item)) {\n    return undefined;\n  }\n  // visibility hidden instead of display none\n  // because we need computed tooltip width and height to best position it\n  select('#vis-tooltip').style('visibility', 'hidden');\n\n  tooltipActive = false;\n  clearData();\n  clearColorTheme();\n  clearPosition();\n\n  // invoke user-provided callback\n  if (options.onDisappear) {\n    options.onDisappear(event, item);\n  }\n}\n\n/* Decide if a Scenegraph item deserves tooltip */\nfunction shouldShowTooltip(item: Scenegraph) {\n  // no data, no show\n  if (!item || !item.datum) {\n    return false;\n  }\n  // (small multiples) avoid showing tooltip for a facet's background\n  if (item.datum._facetID) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Copy options into new objects to prevent causing side-effect to original object\n */\nfunction copyOptions(options: Option) {\n  const newOptions: Option = {};\n  for (const field in options) {\n    if (options.hasOwnProperty(field)) {\n      newOptions[field] = options[field];\n    }\n  }\n  return newOptions;\n}\n","import {ScenegraphData} from './options';\nexport interface Option {\n  showAllFields?: boolean;\n  fields?: FieldOption[];\n  delay?: number;\n  offset?: {\n    x: number,\n    y: number\n  };\n  onAppear?(event: Event, item: object): void;\n  onMove?(event: Event, item: object): void;\n  onDisappear?(event: Event, item: object): void;\n  colorTheme?: 'light' | 'dark';\n  [key: string]: string | object | boolean | number;\n}\n\nexport interface FieldOption {\n  [key: string]: string | boolean;\n  field?: string;\n  title?: string;\n  formatType?: 'number' | 'time' | 'string';\n  format?: string;\n  aggregate?: string;\n  bin?: boolean;\n}\n\nexport interface SupplementedFieldOption extends FieldOption {\n  removeOriginalTemporalField?: string;\n  bin?: boolean;\n}\n\nexport interface ScenegraphData {\n  [key: string]: string | number | Date | ScenegraphData;\n}\n\nexport type TooltipData = {title: string, value: string | number};\n\nexport type Scenegraph = {\n  datum: ScenegraphData,\n  mark: {\n    marktype: string,\n    items: object,\n    name: string\n  }\n};\n\nexport type TemporaryFieldOption = {\n  [key: string]: FieldOption\n};\n\nexport type VgView = any;\n\nexport const DELAY = 100;\n","import {autoFormat, customFormat} from './formatFieldValue';\nimport {FieldOption, Option, Scenegraph, ScenegraphData, SupplementedFieldOption, TemporaryFieldOption, TooltipData} from './options';\n\n/**\n * Prepare data for the tooltip\n * @return An array of tooltip data [{ title: ..., value: ...}]\n */\n// TODO: add marktype\nexport function getTooltipData(item: Scenegraph, options: Option) {\n  // ignore data from group marks\n  if (item.mark.marktype === 'group') {\n    return undefined;\n  }\n\n  // this array will be bind to the tooltip element\n  let tooltipData: TooltipData[];\n  const itemData: ScenegraphData = {};\n  for (const field in item.datum) {\n    if (item.datum.hasOwnProperty(field)) {\n      itemData[field] = item.datum[field];\n    }\n  }\n\n  const removeKeys = [\n    '_id', '_prev', 'width', 'height',\n    'count_start', 'count_end',\n    'layout_start', 'layout_mid', 'layout_end', 'layout_path', 'layout_x', 'layout_y'\n  ];\n  removeFields(itemData, removeKeys);\n\n  // remove duplicate time fields (if any)\n  removeDuplicateTimeFields(itemData, options.fields);\n\n  // combine multiple rows of a binned field into a single row\n  combineBinFields(itemData, options.fields);\n\n  // TODO(zening): use Vega-Lite layering to support tooltip on line and area charts (#1)\n  dropFieldsForLineArea(item.mark.marktype, itemData);\n  if (options.showAllFields === true) {\n    tooltipData = prepareAllFieldsData(itemData, options);\n  } else {\n    tooltipData = prepareCustomFieldsData(itemData, options);\n  }\n  return tooltipData;\n}\n\n/**\n * Prepare custom fields data for tooltip. This function formats\n * field titles and values and returns an array of formatted fields.\n *\n * @param {time.map} itemData - a map of item.datum\n * @param {Object} options - user-provided options\n * @return An array of formatted fields specified by options [{ title: ..., value: ...}]\n */\nexport function prepareCustomFieldsData(itemData: ScenegraphData, options: Option) {\n  const tooltipData: TooltipData[] = [];\n\n  options.fields.forEach(function (fieldOption) {\n    // prepare field title\n    const title = fieldOption.title ? fieldOption.title : fieldOption.field;\n\n    // get (raw) field value\n    const value = getValue(itemData, fieldOption.field);\n    if (value === undefined) {\n      return undefined;\n    }\n\n    // format value\n    const formattedValue = customFormat(value, fieldOption.formatType, fieldOption.format) || autoFormat(value);\n\n    // add formatted data to tooltipData\n    tooltipData.push({title: title, value: formattedValue});\n  });\n\n  return tooltipData;\n}\n\n/**\n * Get a field value from a data map.\n * @param {time.map} itemData - a map of item.datum\n * @param {string} field - the name of the field. It can contain \".\" to specify\n * that the field is not a direct child of item.datum\n * @return the field value on success, undefined otherwise\n */\n// TODO(zening): Mute \"Cannot find field\" warnings for composite vis (issue #39)\nexport function getValue(itemData: ScenegraphData, field: string) {\n  let value: string | number | Date | ScenegraphData;\n\n  const accessors: string[] = field.split('.');\n\n  // get the first accessor and remove it from the array\n  const firstAccessor: string = accessors[0];\n  accessors.shift();\n  if (itemData[firstAccessor]) {\n    value = itemData[firstAccessor];\n\n    // if we still have accessors, use them to get the value\n    accessors.forEach(function (a) {\n      value = value as ScenegraphData;\n      if (value[a]) {\n        value = value[a];\n      }\n    });\n  }\n\n  if (value === undefined) {\n    console.warn('[Tooltip] Cannot find field ' + field + ' in data.');\n    return undefined;\n  } else {\n    return value as string | number | Date;\n  }\n}\n\n\n/**\n * Prepare data for all fields in itemData for tooltip. This function\n * formats field titles and values and returns an array of formatted fields.\n *\n * @param {time.map} itemData - a map of item.datum\n * @param {Object} options - user-provided options\n * @return All fields in itemData, formatted, in the form of an array: [{ title: ..., value: ...}]\n *\n * Please note that this function expects itemData to be simple {field:value} pairs.\n * It will not try to parse value if it is an object. If value is an object, please\n * use prepareCustomFieldsData() instead.\n */\nexport function prepareAllFieldsData(itemData: ScenegraphData, options: Option) {\n  const tooltipData: TooltipData[] = [];\n\n  // here, fieldOptions still provides format\n  const fieldOptions: TemporaryFieldOption = {};\n  if (options && options.fields) {\n    for (const optionField of options.fields) {\n      fieldOptions[optionField.field] = optionField;\n    }\n  }\n\n  for (const field in itemData) {\n    if (itemData.hasOwnProperty(field)) {\n      const value = itemData[field] as number | string | Date;\n      let title;\n      if (fieldOptions[field] && fieldOptions[field].title) {\n        title = fieldOptions[field].title;\n      } else {\n        title = field;\n      }\n\n      let formatType;\n      let format;\n      // format value\n      if (fieldOptions[field]) {\n        formatType = fieldOptions[field].formatType;\n        format = fieldOptions[field].format;\n      }\n      const formattedValue = customFormat(value, formatType, format) || autoFormat(value);\n\n      // add formatted data to tooltipData\n      tooltipData.push({title: title, value: formattedValue});\n    }\n  }\n  return tooltipData;\n}\n\n/**\n * Remove multiple fields from a tooltip data map, using removeKeys\n *\n * Certain meta data fields (e.g. \"_id\", \"_prev\") should be hidden in the tooltip\n * by default. This function can be used to remove these fields from tooltip data.\n * @param {time.map} dataMap - the data map that contains tooltip data.\n * @param {string[]} removeKeys - the fields that should be removed from dataMap.\n */\nexport function removeFields(dataMap: ScenegraphData, removeKeys: string[]) {\n  removeKeys.forEach(function (key) {\n    delete dataMap[key];\n  });\n}\n\n/**\n * When a temporal field has timeUnit, itemData will give us duplicated fields\n * (e.g., Year and YEAR(Year)). In tooltip want to display the field WITH the\n * timeUnit and remove the field that doesn't have timeUnit.\n */\nexport function removeDuplicateTimeFields(itemData: ScenegraphData, optFields: SupplementedFieldOption[]): void {\n  if (!optFields) {\n    return undefined;\n  }\n\n  optFields.forEach(function (optField) {\n    if (optField.removeOriginalTemporalField) {\n      removeFields(itemData, [optField.removeOriginalTemporalField]);\n    }\n  });\n}\n\n/**\n * Combine multiple binned fields in itemData into one field. The value of the field\n * is a string that describes the bin range.\n *\n * @param {Object} itemData - an object of item.datum\n * @param {Object[]} fieldOptions - a list of field options (i.e. options.fields[])\n * @return itemData with combined bin fields\n */\nexport function combineBinFields(itemData: ScenegraphData, fieldOptions: FieldOption[]) {\n  if (!fieldOptions) {\n    return undefined;\n  }\n\n  fieldOptions.forEach(function (fieldOption) {\n    if (fieldOption.bin === true) {\n      // get binned field names\n      const binFieldRange = fieldOption.field;\n      const binFieldStart = binFieldRange.concat('_start');\n      const binFieldMid = binFieldRange.concat('_mid');\n      const binFieldEnd = binFieldRange.concat('_end');\n\n      // use start value and end value to compute range\n      // save the computed range in binFieldStart\n      const startValue = itemData[binFieldStart];\n      const endValue = itemData[binFieldEnd];\n      if ((startValue !== undefined) && (endValue !== undefined)) {\n        const range = startValue + '-' + endValue;\n        itemData[binFieldRange] = range;\n      }\n\n      // remove binFieldMid, binFieldEnd, and binFieldRange from itemData\n      const binRemoveKeys = [];\n      binRemoveKeys.push(binFieldStart, binFieldMid, binFieldEnd);\n      removeFields(itemData, binRemoveKeys);\n    }\n  });\n\n  return itemData;\n}\n\n/**\n * Drop fields for line and area marks.\n *\n * Lines and areas are defined by a series of datum. We overlay point marks\n * on top of lines and areas to allow tooltip to show all data in the series.\n * For the line marks and area marks underneath, we only show nominal fields\n * in tooltip. This is because line / area marks only give us the last datum\n * in their series. It only make sense to show the nominal fields (e.g., symbol\n * = APPL, AMZN, GOOG, IBM, MSFT) because these fields don't tend to change along\n * the line / area border.\n */\nexport function dropFieldsForLineArea(marktype: string, itemData: ScenegraphData) {\n  if (marktype === 'line' || marktype === 'area') {\n    const quanKeys: string[] = [];\n    for (const key in itemData) {\n      if (itemData.hasOwnProperty(key)) {\n        const value = itemData[key];\n        if (value instanceof Date) {\n          quanKeys.push(key);\n        }\n      }\n    }\n    removeFields(itemData, quanKeys);\n  }\n}\n","import * as vl from 'vega-lite';\nimport {FieldDef} from 'vega-lite/build/src/fielddef';\nimport {TopLevelExtendedSpec} from 'vega-lite/build/src/spec';\nimport {TEMPORAL} from 'vega-lite/build/src/type';\nimport {FieldOption, Option, SupplementedFieldOption} from './options';\n\n/* mapping from fieldDef.type to formatType */\nconst formatTypeMap: { [type: string]: 'number' | 'time' } = {\n  'quantitative': 'number',\n  'temporal': 'time',\n  'ordinal': undefined,\n  'nominal': undefined\n};\n\n/**\n * (Vega-Lite only) Supplement options with vlSpec\n *\n * @param options - user-provided options\n * @param vlSpec - vega-lite spec\n * @return the vlSpec-supplemented options object\n *\n * if options.showAllFields is true or undefined, vlSpec will supplement\n * options.fields with all fields in the spec\n * if options.showAllFields is false, vlSpec will only supplement existing fields\n * in options.fields\n */\nexport function supplementOptions(options: Option, vlSpec: TopLevelExtendedSpec) {\n  // fields to be supplemented by vlSpec\n  const supplementedFields: FieldOption[] = [];\n\n  // if showAllFields is true or undefined, supplement all fields in vlSpec\n  if (options.showAllFields !== false) {\n    vl.spec.fieldDefs(vlSpec).forEach(function (fieldDef: FieldDef<string>) {\n      // get a fieldOption in options that matches the fieldDef\n      const fieldOption = getFieldOption(options.fields, fieldDef);\n\n      // supplement the fieldOption with fieldDef and config\n      const supplementedFieldOption = supplementFieldOption(fieldOption, fieldDef, vlSpec);\n\n      supplementedFields.push(supplementedFieldOption);\n    });\n  } else { // if showAllFields is false, only supplement existing fields in options.fields\n    if (options.fields) {\n      options.fields.forEach(function (fieldOption: FieldOption) {\n        // get the fieldDef in vlSpec that matches the fieldOption\n        const fieldDef = getFieldDef(vl.spec.fieldDefs(vlSpec) as FieldDef<string>[], fieldOption);\n\n        // supplement the fieldOption with fieldDef and config\n        const supplementedFieldOption = supplementFieldOption(fieldOption, fieldDef, vlSpec);\n\n        supplementedFields.push(supplementedFieldOption);\n      });\n    }\n  }\n\n  options.fields = supplementedFields;\n\n  return options;\n}\n\n/**\n * Find a fieldOption in fieldOptions that matches a fieldDef\n *\n * @param {Object[]} fieldOptionss - a list of field options (i.e. options.fields[])\n * @param {Object} fieldDef - from vlSpec\n * @return the matching fieldOption, or undefined if no match was found\n *\n * If the fieldDef is aggregated, find a fieldOption that matches the field name and\n * the aggregation of the fieldDef.\n * If the fieldDef is not aggregated, find a fieldOption that matches the field name.\n */\nexport function getFieldOption(fieldOptions: FieldOption[], fieldDef: FieldDef<string>) {\n  if (!fieldDef || !fieldOptions || fieldOptions.length <= 0) {\n    return undefined;\n  }\n\n  // if aggregate, match field name and aggregate operation\n  if (fieldDef.aggregate) {\n    // try find the perfect match: field name equals, aggregate operation equals\n    for (const item of fieldOptions) {\n      if (item.field === fieldDef.field && item.aggregate === fieldDef.aggregate) {\n        return item;\n      }\n    }\n\n    // try find the second-best match: field name equals, field.aggregate is not specified\n    for (const item of fieldOptions) {\n      if (item.field === fieldDef.field && !item.aggregate) {\n        return item;\n      }\n    }\n\n    // return undefined if no match was found\n    return undefined;\n  } else { // if not aggregate, just match field name\n    for (const item of fieldOptions) {\n      if (item.field === fieldDef.field) {\n        return item;\n      }\n    }\n\n    // return undefined if no match was found\n    return undefined;\n  }\n}\n\n/**\n * Find a fieldDef that matches a fieldOption\n *\n * @param {Object} fieldOption - a field option (a member in options.fields[])\n * @return the matching fieldDef, or undefined if no match was found\n *\n * A matching fieldDef should have the same field name as fieldOption.\n * If the matching fieldDef is aggregated, the aggregation should not contradict\n * with that of the fieldOption.\n */\nexport function getFieldDef(fieldDefs: FieldDef<string>[], fieldOption: FieldOption): FieldDef<string> {\n  if (!fieldOption || !fieldOption.field || !fieldDefs) {\n    return undefined;\n  }\n\n  // field name should match, aggregation should not disagree\n  for (const item of fieldDefs) {\n    if (item.field === fieldOption.field) {\n      if (item.aggregate) {\n        if (item.aggregate === fieldOption.aggregate || !fieldOption.aggregate) {\n          return item;\n        }\n      } else {\n        return item;\n      }\n    }\n  }\n\n  // return undefined if no match was found\n  return undefined;\n}\n\n/**\n * Supplement a fieldOption (from options.fields[]) with a fieldDef, config\n * (which provides timeFormat, numberFormat, countTitle)\n * Either fieldOption or fieldDef can be undefined, but they cannot both be undefined.\n * config (and its members timeFormat, numberFormat and countTitle) can be undefined.\n * @return the supplemented fieldOption, or undefined on error\n */\nexport function supplementFieldOption(fieldOption: FieldOption, fieldDef: FieldDef<string>, vlSpec: TopLevelExtendedSpec) {\n  // many specs don't have config\n  const config = {...vlSpec.config};\n\n  // at least one of fieldOption and fieldDef should exist\n  if (!fieldOption && !fieldDef) {\n    console.error('[Tooltip] Cannot supplement a field when field and fieldDef are both empty.');\n    return undefined;\n  }\n\n  // if either one of fieldOption and fieldDef is undefined, make it an empty object\n  if (!fieldOption && fieldDef) {\n    fieldOption = {};\n  }\n  if (fieldOption && !fieldDef) {\n    fieldDef = {};\n  }\n\n  // the supplemented field option\n  const supplementedFieldOption: SupplementedFieldOption = {};\n\n  // supplement a user-provided field name with underscore prefixes and suffixes to\n  // match the field names in item.datum\n  // for aggregation, this will add prefix \"mean_\" etc.\n  // for timeUnit, this will add prefix \"yearmonth_\" etc.\n  // for bin, this will add prefix \"bin_\" and suffix \"_start\". Later we will replace \"_start\" with \"_range\".\n  supplementedFieldOption.field = fieldDef.field ?\n    vl.fieldDef.field(fieldDef) : fieldOption.field;\n\n  // If a fieldDef is a (TIMEUNIT)T, we check if the original T is present in the vlSpec.\n  // If only (TIMEUNIT)T is present in vlSpec, we set `removeOriginalTemporalField` to T,\n  // which will cause function removeDuplicateTimeFields() to remove T and only keep (TIMEUNIT)T\n  // in item data.\n  // If both (TIMEUNIT)T and T are in vlSpec, we set `removeOriginalTemporalField` to undefined,\n  // which will leave both T and (TIMEUNIT)T in item data.\n  // Note: user should never have to provide this boolean in options\n  if (fieldDef.type === TEMPORAL && fieldDef.timeUnit) {\n    // in most cases, if it's a (TIMEUNIT)T, we remove original T\n    const originalTemporalField = fieldDef.field;\n    supplementedFieldOption.removeOriginalTemporalField = originalTemporalField;\n\n    // handle corner case: if T is present in vlSpec, then we keep both T and (TIMEUNIT)T\n    const fieldDefs = vl.spec.fieldDefs(vlSpec);\n    for (const items of fieldDefs) {\n      if (items.field === originalTemporalField && !items.timeUnit) {\n        supplementedFieldOption.removeOriginalTemporalField = undefined;\n        break;\n      }\n    }\n  }\n\n  // supplement title\n  if (!config.countTitle) {\n    config.countTitle = vl.config.defaultConfig.countTitle; // use vl default countTitle\n  }\n  supplementedFieldOption.title = fieldOption.title ?\n    fieldOption.title : vl.fieldDef.title(fieldDef, config);\n\n  // supplement formatType\n  supplementedFieldOption.formatType = fieldOption.formatType ?\n    fieldOption.formatType : formatTypeMap[fieldDef.type];\n\n  // supplement format\n  if (fieldOption.format) {\n    supplementedFieldOption.format = fieldOption.format;\n  } else { // when user doesn't provide format, supplement format using timeUnit, timeFormat, and numberFormat\n    switch (supplementedFieldOption.formatType) {\n      case 'time':\n        supplementedFieldOption.format = fieldDef.timeUnit ?\n          // TODO(zening): use template for all time fields, to be consistent with Vega-Lite\n          vl.timeUnit.formatExpression(fieldDef.timeUnit, '', false, false).split(\"'\")[1]\n          : config.timeFormat || vl.config.defaultConfig.timeFormat;\n        break;\n      case 'number':\n        supplementedFieldOption.format = config.numberFormat;\n        break;\n      case 'string':\n      default:\n    }\n  }\n\n  // supplement bin from fieldDef, user should never have to provide bin in options\n  if (fieldDef.bin) {\n    supplementedFieldOption.field = supplementedFieldOption.field.replace('_start', '_range'); // replace suffix\n    supplementedFieldOption.bin = true;\n    supplementedFieldOption.formatType = 'string'; // we show bin range as string (e.g. \"5-10\")\n  }\n\n  return supplementedFieldOption;\n}\n","import {EnterElement, select, Selection} from 'd3-selection';\nimport {Option, TooltipData} from './options';\n\n/**\n * Get the tooltip HTML placeholder by id selector \"#vis-tooltip\"\n * If none exists, create a placeholder.\n * @returns the HTML placeholder for tooltip\n */\nexport function getTooltipPlaceholder() {\n  let tooltipPlaceholder;\n\n  if (select('#vis-tooltip').empty()) {\n    tooltipPlaceholder = select('body').append('div')\n      .attr('id', 'vis-tooltip')\n      .attr('class', 'vg-tooltip');\n  } else {\n    tooltipPlaceholder = select('#vis-tooltip');\n  }\n\n  return tooltipPlaceholder;\n}\n\n/**\n * Bind tooltipData to the tooltip placeholder\n */\nexport function bindData(tooltipPlaceholder: Selection<Element | EnterElement | Document | Window, {}, HTMLElement, any>, tooltipData: TooltipData[]) {\n  tooltipPlaceholder.selectAll('table').remove();\n  const tooltipRows = tooltipPlaceholder.append('table').selectAll('.tooltip-row')\n    .data(tooltipData);\n\n  tooltipRows.exit().remove();\n\n  const row = tooltipRows.enter().append('tr')\n    .attr('class', 'tooltip-row');\n  row.append('td').attr('class', 'key').text(function (d: TooltipData) { return d.title + ':'; });\n  row.append('td').attr('class', 'value').text(function (d: TooltipData) { return d.value; });\n}\n\n/**\n * Clear tooltip data\n */\nexport function clearData() {\n  select('#vis-tooltip').selectAll('.tooltip-row').data([])\n    .exit().remove();\n}\n\n/**\n * Update tooltip position\n * Default position is 10px right of and 10px below the cursor. This can be\n * overwritten by options.offset\n */\nexport function updatePosition(event: MouseEvent, options: Option) {\n  // determine x and y offsets, defaults are 10px\n  let offsetX = 10;\n  let offsetY = 10;\n  if (options && options.offset && (options.offset.x !== undefined) && (options.offset.x !== null)) {\n    offsetX = options.offset.x;\n  }\n  if (options && options.offset && (options.offset.y !== undefined) && (options.offset.y !== null)) {\n    offsetY = options.offset.y;\n  }\n\n  // TODO: use the correct time type\n  select('#vis-tooltip')\n    .style('top', function (this: HTMLElement) {\n      // by default: put tooltip 10px below cursor\n      // if tooltip is close to the bottom of the window, put tooltip 10px above cursor\n      const tooltipHeight = this.getBoundingClientRect().height;\n      if (event.clientY + tooltipHeight + offsetY < window.innerHeight) {\n        return '' + (event.clientY + offsetY) + 'px';\n      } else {\n        return '' + (event.clientY - tooltipHeight - offsetY) + 'px';\n      }\n    })\n    .style('left', function (this: HTMLElement) {\n      // by default: put tooltip 10px to the right of cursor\n      // if tooltip is close to the right edge of the window, put tooltip 10 px to the left of cursor\n      const tooltipWidth = this.getBoundingClientRect().width;\n      if (event.clientX + tooltipWidth + offsetX < window.innerWidth) {\n        return '' + (event.clientX + offsetX) + 'px';\n      } else {\n        return '' + (event.clientX - tooltipWidth - offsetX) + 'px';\n      }\n    });\n}\n\n/* Clear tooltip position */\nexport function clearPosition() {\n  select('#vis-tooltip')\n    .style('top', '-9999px')\n    .style('left', '-9999px');\n}\n\n/**\n * Update tooltip color theme according to options.colorTheme\n *\n * If colorTheme === \"dark\", apply dark theme to tooltip.\n * Otherwise apply light color theme.\n */\nexport function updateColorTheme(options: Option) {\n  clearColorTheme();\n\n  if (options && options.colorTheme === 'dark') {\n    select('#vis-tooltip').classed('dark-theme', true);\n  } else {\n    select('#vis-tooltip').classed('light-theme', true);\n  }\n}\n\n/* Clear color themes */\nexport function clearColorTheme() {\n  select('#vis-tooltip').classed('dark-theme light-theme', false);\n}\n"]}